üîó **–°–≤—è–∑–∏ –¥–ª—è –±–ª–æ–∫–∞ `3.3 –û–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä SQL` (`sql_optimizer`)**
üì¶ –ü–∞–∫–µ—Ç: `3. SQL –∏ –Ø–∑—ã–∫–∏`

---

### üîª –ò—Å—Ö–æ–¥—è—â–∏–µ —Å–≤—è–∑–∏ (`sql_optimizer --> X`)

| –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ                           | –¶–µ–ª–µ–≤–æ–π –±–ª–æ–∫                                         | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
| ------------------------------------- | ---------------------------------------------------- | ---------- |
| `sql_optimizer --> sql_executor`      | –ü–µ—Ä–µ–¥–∞—á–∞ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–≥–æ –ø–ª–∞–Ω–∞ –Ω–∞ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ             |            |
| `sql_optimizer --> index_manager`     | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–æ–≤ –¥–ª—è join/scan                 |            |
| `sql_optimizer --> adaptive_joins`    | –ü–æ–¥–±–æ—Ä —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π                          |            |
| `sql_optimizer --> plan_cache`        | –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–ª–∞–Ω–∞                                    |            |
| `sql_optimizer --> runtime_optimizer` | –£—á–∞—Å—Ç–∏–µ –≤ –∞–¥–∞–ø—Ç–∏–≤–Ω–æ–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è |            |
| `sql_optimizer --> tracing_agent`     | –¢—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞ —Ä–µ—à–µ–Ω–∏–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏                      |            |
| `sql_optimizer --> structured_logger` | –õ–æ–≥ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π (rewrites, costing)                  |            |
| `sql_optimizer --> udf_engine`        | –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ UDF –≤ –ø–ª–∞–Ω                               |            |
| `sql_optimizer --> arrow_runtime`     | –í—ã–±–æ—Ä –∏—Å–ø–æ–ª–Ω—è—é—â–µ–≥–æ –¥–≤–∏–∂–∫–∞ (–≤–µ–∫—Ç–æ—Ä–Ω—ã–π, Arrow –∏ —Ç.–¥.)  |            |

---

### üî∫ –í—Ö–æ–¥—è—â–∏–µ —Å–≤—è–∑–∏ (`X --> sql_optimizer`)

| –ò—Å—Ç–æ—á–Ω–∏–∫                           | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                         |
| ---------------------------------- | ---------------------------------- |
| `sql_parser --> sql_optimizer`     | –ü—Ä–∏ rule-based –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏         |
| `sql_planner --> sql_optimizer`    | –ü–µ—Ä–µ–¥–∞—á–∞ –ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ –ø–ª–∞–Ω–∞         |
| `dsl_engine --> sql_optimizer`     | –£–ø—Ä–æ—â—ë–Ω–Ω—ã–µ DSL-–ø–ª–∞–Ω—ã               |
| `jit_engine --> sql_optimizer`     | Inline-–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è JIT-—Ç—Ä–∞—Å—Å       |
| `plan_cache --> sql_optimizer`     | –†–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ/–∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è –ø–ª–∞–Ω–æ–≤ |
| `ci_cd_runner --> sql_optimizer`   | –¢–µ—Å—Ç—ã –Ω–∞ –∫–∞—á–µ—Å—Ç–≤–æ –ø–ª–∞–Ω–∞            |
| `schema_evolver --> sql_optimizer` | –ê–¥–∞–ø—Ç–∞—Ü–∏—è –∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º —Å—Ö–µ–º—ã       |

---

### üß© –í—Å–µ–≥–æ —Å–≤—è–∑–µ–π: **16**

* –ò—Å—Ö–æ–¥—è—â–∏–µ: **9**
* –í—Ö–æ–¥—è—â–∏–µ: **7**

---

‚úÖ –ë–ª–æ–∫ `3.3 –û–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä SQL` ‚Äî —ç—Ç–æ **—Ü–µ–Ω—Ç—Ä cost-based, rule-based –∏ –∞–¥–∞–ø—Ç–∏–≤–Ω–æ–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏**. –û–Ω –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –ª–æ–≥–∏—á–µ—Å–∫–∏–µ –ø–ª–∞–Ω—ã –∏ –ø—Ä–∏–º–µ–Ω—è–µ—Ç –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è, –≤–∫–ª—é—á–∞—è reordering join'–æ–≤, pushdown —Ñ–∏–ª—å—Ç—Ä–æ–≤, –≤—ã–±–æ—Ä –∏–Ω–¥–µ–∫—Å–æ–≤ –∏ –≤—ã–±–æ—Ä —Ñ–∏–∑–∏—á–µ—Å–∫–æ–≥–æ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è.

