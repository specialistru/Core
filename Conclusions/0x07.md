üîÅ **–≠–∫—Å–ø–µ—Ä—Ç ‚Ññ7 ‚Äî –ò–Ω–∂–µ–Ω–µ—Ä –ø–æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º (ACID, Isolation, Rollback)**

---

### üéØ –û–±–ª–∞—Å—Ç—å –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏:

* –ü–æ–ª–Ω–æ—Ç–∞ ACID: –∞—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç—å, —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å, –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ—Å—Ç—å, –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å
* –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —É—Ä–æ–≤–Ω–µ–π –∏–∑–æ–ª—è—Ü–∏–∏: RC, RR, SI, SERIALIZABLE
* –ú–µ—Ö–∞–Ω–∏–∑–º—ã rollback, savepoint, commit
* WAL + snapshot —Å—Ç—Ä–∞—Ç–µ–≥–∏—è
* –ö–æ–Ω—Ç—Ä–æ–ª—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –∏ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫

---

### ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤ `sap_hana_architecture_19.puml`:

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç                | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π                                                               |
| ------------------------ | ------------------------------------------------------------------------- |
| `txn_manager`            | –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –¥–∏—Å–ø–µ—Ç—á–µ—Ä —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π, —Ö–æ—Ä–æ—à–µ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ                        |
| `mvcc_engine`            | –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –∏–∑–æ–ª—è—Ü–∏—é —á–µ—Ä–µ–∑ –≤–µ—Ä—Å–∏–æ–Ω–Ω–æ—Å—Ç—å ‚Äî —Å–æ–≤–º–µ—Å—Ç–Ω–æ —Å snapshot isolation |
| `snapshot_manager`       | –ü–æ–∑–≤–æ–ª—è–µ—Ç —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å consistent view                                     |
| `recovery_service`       | –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å –ø—Ä–∏ —Å–±–æ—è—Ö (Durability)                            |
| `wal_log`, `buffer_pool` | –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç, –Ω–æ —Å–ª–∞–±—ã–µ —Å–≤—è–∑–∏ –º–µ–∂–¥—É –Ω–∏–º–∏                       |

---

### ‚ö†Ô∏è –û–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–µ –Ω–µ–¥–æ—Ä–∞–±–æ—Ç–∫–∏:

| –ü—Ä–æ–±–ª–µ–º–∞                               | –û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ                                                   |
| -------------------------------------- | ------------------------------------------------------------- |
| ‚ùå –ù–µ—Ç `transaction_context` –±–ª–æ–∫–∞      | –ù–µ –æ–ø–∏—Å–∞–Ω–∞ per-session —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è    |
| ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç `isolation_controller`   | –ù–µ —è—Å–Ω–æ, –∫–∞–∫ –ø–µ—Ä–µ–∫–ª—é—á–∞—é—Ç—Å—è –∏–ª–∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç—Å—è —É—Ä–æ–≤–Ω–∏ –∏–∑–æ–ª—è—Ü–∏–∏ |
| ‚ùå –ù–µ—Ç `savepoint_manager`              | –î–ª—è OLTP-–Ω–∞–≥—Ä—É–∑–∫–∏ –≤–∞–∂–Ω–æ –∏–º–µ—Ç—å –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ —Ç–æ—á–∫–∏ –æ—Ç–∫–∞—Ç–∞      |
| ‚ùå WAL/Commit pipeline –Ω–µ –¥–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω | –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç explicit –±–ª–æ–∫ commit log/flusher                  |
| ‚ùå –ù–µ—Ç `conflict_detector`              | –ù–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –±–æ—Ä—å–±—ã —Å write-write –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞–º–∏      |

---

### üíØ –û—Ü–µ–Ω–∫–∞: **79 / 100**

---

### üîß –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:

1. **–î–æ–±–∞–≤–∏—Ç—å `transaction_context`** ‚Äî —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞, —É—Ä–æ–≤–Ω—è –∏–∑–æ–ª—è—Ü–∏–∏, active TxID –Ω–∞ —Å–µ—Å—Å–∏—é
2. **–í–≤–µ—Å—Ç–∏ `isolation_controller`** ‚Äî RC / RR / SI / SERIALIZABLE –ø–µ—Ä–µ–∫–ª—é—á–∞–µ–º—ã–π –º–µ—Ö–∞–Ω–∏–∑–º
3. **–î–æ–±–∞–≤–∏—Ç—å `savepoint_manager`** ‚Äî –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç–æ—á–µ–∫ –æ—Ç–∫–∞—Ç–∞
4. **–í–≤–µ—Å—Ç–∏ `commit_pipeline`** ‚Äî —Ü–µ–ø–æ—á–∫–∞: WAL write ‚Üí flush ‚Üí visibility
5. **–î–æ–±–∞–≤–∏—Ç—å `conflict_detector`** ‚Äî write-write –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –∏ –æ–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞

---

üîÅ **–ó–∞–∫–ª—é—á–µ–Ω–∏–µ:** –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–∞ –¥–ª—è –±–∞–∑–æ–≤–æ–π ACID-–≥–∞—Ä–∞–Ω—Ç–∏–∏, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –≤ —Å—Ç–æ—Ä–æ–Ω—É —É—Ä–æ–≤–Ω—è –∏–∑–æ–ª—è—Ü–∏–∏, savepoints –∏ —É–ø—Ä–∞–≤–ª—è–µ–º–æ–≥–æ rollback.

