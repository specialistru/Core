üß© **–≠–∫—Å–ø–µ—Ä—Ç ‚Ññ22 ‚Äî –≠–∫—Å–ø–µ—Ä—Ç –ø–æ SQL API –∏ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º (JDBC, ODBC, CLI, REST, UDF)**

---

### üéØ –ó–æ–Ω–∞ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏:

* –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –¥–æ—Å—Ç—É–ø–∞: JDBC, ODBC, CLI, REST/gRPC, WebSocket
* –†–∞—Å—à–∏—Ä–µ–Ω–∏—è SQL: UDF/UDAF, JSON, –æ–∫–æ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏, —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π SELECT
* –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å ANSI SQL:2011+
* –ü—Ä–æ—Ç–æ–∫–æ–ª—ã: –±–∏–Ω–∞—Ä–Ω—ã–µ, wire-compatible, PostgreSQL-–ø–æ–¥–¥–µ—Ä–∂–∫–∞
* –ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è —Ä–∞–±–æ—Ç–∞: auth, pooling, failover, query routing

---

### ‚úÖ –ù–∞–π–¥–µ–Ω–æ –≤ `sap_hana_architecture_19.puml`:

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç                      | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π                                                       |
| ------------------------------ | ----------------------------------------------------------------- |
| `sql_engine`                   | –ë–∞–∑–æ–≤—ã–π SQL-–¥–≤–∏–∂–æ–∫ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç                                   |
| `udf_engine`                   | –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —è–∑—ã–∫–∞—Ö               |
| `rest_api`, `grpc_api`         | API-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –≤—ã—Å–æ–∫–æ–≥–æ —É—Ä–æ–≤–Ω—è                                    |
| `cli_interface`                | –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É                             |
| `json_functions`               | –£–∫–∞–∑–∞–Ω–∏–µ –Ω–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è SQL –ø–æ–¥ JSON                               |
| `sql_parser`, `sql_planner`    | –Ø–≤–Ω–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø–∞—Ä—Å–∏–Ω–≥–∞ –∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è ‚Äî –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥    |
| `jdbc_adapter`, `odbc_adapter` | –ù–∞–ª–∏—á–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å BI-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏ –∏ –∫–ª–∏–µ–Ω—Ç–∞–º–∏ |

---

### ‚ö†Ô∏è –û–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–µ –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:

| –ü—Ä–æ–±–ª–µ–º–∞                      | –û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ                                                |
| ----------------------------- | ---------------------------------------------------------- |
| ‚ùå –ù–µ—Ç `sql_protocol_handler`  | –ù–µ –æ—Ç–æ–±—Ä–∞–∂—ë–Ω —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –±–∏–Ω–∞—Ä–Ω—ã–π –ø—Ä–æ—Ç–æ–∫–æ–ª SQL-–∑–∞–ø—Ä–æ—Å–æ–≤    |
| ‚ùå –ù–µ—Ç `wire_pg_compatibility` | –ü–æ–¥–¥–µ—Ä–∂–∫–∞ PostgreSQL wire protocol –Ω–µ –∑–∞—è–≤–ª–µ–Ω–∞             |
| ‚ùå –ù–µ—Ç `query_pool_router`     | –ù–µ—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—É–ª–æ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π / –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–µ–π –∑–∞–ø—Ä–æ—Å–æ–≤ |
| ‚ùå –ù–µ—Ç `sql_error_handler`     | –ù–µ –≤—ã–¥–µ–ª–µ–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ SQL-–∑–∞–ø—Ä–æ—Å–æ–≤          |
| ‚ùå –ù–µ—Ç `client_auth_handler`   | –ù–µ —É–∫–∞–∑–∞–Ω –º–æ–¥—É–ª—å –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–π –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (TLS/mTLS/JWT)  |

---

### üíØ –û—Ü–µ–Ω–∫–∞: **82 / 100**

---

### üîß –ß—Ç–æ –Ω—É–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å:

1. **–î–æ–±–∞–≤–∏—Ç—å `sql_protocol_handler`** ‚Äî —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ (–∏–ª–∏ pgwire)
2. **–í–≤–µ—Å—Ç–∏ `wire_pg_compatibility`** ‚Äî –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏ PostgreSQL –±–µ–∑ –ø—Ä–æ–∫—Å–∏
3. **–î–æ–±–∞–≤–∏—Ç—å `query_pool_router`** ‚Äî –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞/—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ/–ª–∏–º–∏—Ç—ã –Ω–∞ —É—Ä–æ–≤–Ω–µ –∑–∞–ø—Ä–æ—Å–æ–≤
4. **–î–æ–±–∞–≤–∏—Ç—å `sql_error_handler`** ‚Äî –¥–µ—Ç–∞–ª—å–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è –∏ –º–∞—Ä—à—Ä—É—Ç –æ—à–∏–±–æ–∫ (user, internal)
5. **–î–æ–±–∞–≤–∏—Ç—å `client_auth_handler`** ‚Äî TLS, —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã, JWT –¥–ª—è –≤—Å–µ—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤

---

üß© **–í—ã–≤–æ–¥:** –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø–æ–∫—Ä—ã–≤–∞–µ—Ç UDF, REST, JDBC –∏ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ SQL-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç —É—Å–∏–ª–µ–Ω–∏—è –Ω–∞ —É—Ä–æ–≤–Ω–µ –ø—Ä–æ—Ç–æ–∫–æ–ª—å–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫.
