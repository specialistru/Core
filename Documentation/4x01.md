---

## üìò 4.1 ‚Äî JDBC/ODBC/CLI-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã

## üÜî –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –±–ª–æ–∫–∞

* –ü–∞–∫–µ—Ç 4 ‚Äî –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –∏ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
* –ë–ª–æ–∫ 4.1 ‚Äî JDBC/ODBC/CLI-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã

## üéØ –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ

–ë–ª–æ–∫ –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç—Å–∫–∏—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ –¥–æ—Å—Ç—É–ø–∞ –∫ –°–£–ë–î: JDBC (Java Database Connectivity), ODBC (Open Database Connectivity) –∏ CLI (Command Line Interface). –≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ–º BI-—Å–∏—Å—Ç–µ–º, –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º, ETL-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π SQL-–¥–æ—Å—Ç—É–ø –∏ —Å—Ä–µ–¥—Å—Ç–≤–∞ –æ—Ç–ª–∞–¥–∫–∏.

## ‚öôÔ∏è –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

| –ü–æ–¥—Å–∏—Å—Ç–µ–º–∞     | –†–µ–∞–ª–∏–∑–∞—Ü–∏—è / –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏                                                  |
| -------------- | ------------------------------------------------------------------------- |
| JDBC           | –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π JDBC 4.3-–¥—Ä–∞–π–≤–µ—Ä, –ø–æ–¥–¥–µ—Ä–∂–∫–∞ Prepared Statements –∏ streaming   |
| ODBC           | –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å ODBC 3.8, unicode-aware, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å BI (Tableau, Excel) |
| CLI            | CLI-—É—Ç–∏–ª–∏—Ç–∞ –¥–ª—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ –∏ –ø–∞–∫–µ—Ç–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è SQL                 |
| –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è | –ü–æ–¥–¥–µ—Ä–∂–∫–∞ mTLS, JWT, –ø–∞—Ä–æ–ª–∏, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Access Policy Engine            |
| –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞    | –¢—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞ SQL, –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∫–∞, –≤—ã–≤–æ–¥ Explain                              |

## üíæ –§–æ—Ä–º–∞—Ç —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

–ù–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –¥–≤–æ–∏—á–Ω—ã–π –ø—Ä–æ—Ç–æ–∫–æ–ª (PostgreSQL wire, proprietary binary), –∫–æ—Ç–æ—Ä—ã–π —Å–µ—Ä–∏–∞–ª–∏–∑—É–µ—Ç —Å—Ç—Ä–æ–∫–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ. CLI –∏—Å–ø–æ–ª—å–∑—É–µ—Ç ANSI-—Ñ–æ—Ä–º–∞—Ç —Å —Ç–∞–±–ª–∏—á–Ω–æ–π –æ—Ç—Ä–∏—Å–æ–≤–∫–æ–π –∏ JSON-—Ä–µ–∂–∏–º–∞–º–∏.

## üîÑ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ —Å–≤—è–∑–∏

```plantuml
[CLI Tool] --> [SQL Engine]
[JDBC Driver] --> [Net Protocol Layer]
[ODBC Driver] --> [Net Protocol Layer]
[Net Protocol Layer] --> [Auth Engine]
[SQL Engine] --> [Query Tracer / Metrics]
```

## üß† –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

* JDBC –∏ ODBC –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –¥–≤–æ–∏—á–Ω—ã–π –ø—Ä–æ—Ç–æ–∫–æ–ª —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π SSL/mTLS
* CLI –Ω–∞–ø–∏—Å–∞–Ω –Ω–∞ C, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –∏ –ø–∞–∫–µ—Ç–Ω—ã–π —Ä–µ–∂–∏–º
* –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –±–∞—Ç—á–µ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
* –ü–æ–¥–¥–µ—Ä–∂–∫–∞ ANSI SQL:2011 –∏ –æ–∫–æ–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π —á–µ—Ä–µ–∑ CLI
* –ê–¥–∞–ø—Ç–∞—Ü–∏—è –≤—ã–≤–æ–¥–∞ –ø–æ–¥ BI-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã (nullable, —Ç–∏–ø—ã, –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ)

## üìÇ –°–≤—è–∑–∞–Ω–Ω—ã–µ –º–æ–¥—É–ª–∏ –∫–æ–¥–∞

* `src/client/jdbc_driver.cpp`
* `src/client/odbc_driver.cpp`
* `src/cli/cli_main.c`
* `src/cli/cli_sql.c`
* `include/cli/cli_sql.h`
* `include/net/net_protocol.h`

## üîß –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–∞ C/C++

| –ò–º—è —Ñ—É–Ω–∫—Ü–∏–∏      | –ü—Ä–æ—Ç–æ—Ç–∏–ø                                                   | –û–ø–∏—Å–∞–Ω–∏–µ                  |
| ---------------- | ---------------------------------------------------------- | ------------------------- |
| `cli_execute`    | `int cli_execute(const char *sql, cli_ctx_t *ctx);`        | –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ SQL —á–µ—Ä–µ–∑ CLI  |
| `jdbc_exec_stmt` | `ResultSet* exec(const std::string &sql);`                 | JDBC –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–∞   |
| `odbc_connect`   | `SQLRETURN odbc_connect(HDBC hdbc, const char *dsn, ...);` | –£—Å—Ç–∞–Ω–æ–≤–∫–∞ ODBC-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è |

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

* CLI: `tests/cli/cli_test.c`, e2e —Å–∫—Ä–∏–ø—Ç—ã
* JDBC: unit + –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã —á–µ—Ä–µ–∑ JUnit –∏ PostgreSQL —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å
* ODBC: —Ç–µ—Å—Ç—ã —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å Excel, Tableau, UnixODBC
* Fuzz: –ø—Ä–æ—Ç–æ–∫–æ–ª CLI –∏ –≤–≤–æ–¥ SQL
* –ü–æ–∫—Ä—ã—Ç–∏–µ: \~90% CLI, \~85% JDBC/ODBC

## üìä –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

* CLI latency: <1–º—Å –Ω–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π SELECT
* JDBC throughput: –¥–æ 50K –∑–∞–ø—Ä–æ—Å–æ–≤/—Å–µ–∫ –ø—Ä–∏ –±–∞—Ç—á–∞—Ö
* –ü–æ–¥–¥–µ—Ä–∂–∫–∞ streaming fetch –¥–ª—è –±–æ–ª—å—à–∏—Ö result set

## ‚úÖ –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ SAP HANA+

| –ö—Ä–∏—Ç–µ—Ä–∏–π                | –û—Ü–µ–Ω–∫–∞ | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π                                           |
| ----------------------- | ------ | ----------------------------------------------------- |
| JDBC/ODBC —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å | 95     | JDBC –ø–æ–ª–Ω–æ—Å—Ç—å—é, ODBC ‚Äî –ø–æ–∫—Ä—ã—Ç–∏–µ \~85% —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö API |
| CLI                     | 100    | –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π ANSI CLI, –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∫–∞, EXPLAIN           |
| –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –¥–æ—Å—Ç—É–ø–∞    | 100    | TLS/mTLS, –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Access Policy Engine      |

## üìé –ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞

```java
Connection conn = DriverManager.getConnection("jdbc:hanax://localhost:2345");
PreparedStatement stmt = conn.prepareStatement("SELECT * FROM orders WHERE id = ?");
stmt.setInt(1, 42);
ResultSet rs = stmt.executeQuery();
```

## üß© –ë—É–¥—É—â–∏–µ –¥–æ—Ä–∞–±–æ—Ç–∫–∏

* –ü–æ–¥–¥–µ—Ä–∂–∫–∞ GraphQL –∏ JSON\:API –ø–æ–≤–µ—Ä—Ö SQL
* –î–æ–±–∞–≤–ª–µ–Ω–∏–µ Explain Timeline –∏ query trace –≤ CLI
* –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ JDBC-—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –¥–æ SQL/MED

## üß∞ –°–≤—è–∑—å —Å –±–∏–∑–Ω–µ—Å-—Ñ—É–Ω–∫—Ü–∏—è–º–∏

* BI-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ (Tableau, PowerBI, Excel)
* –ü–æ–¥–¥–µ—Ä–∂–∫–∞ ERP-–∑–∞–ø—Ä–æ—Å–æ–≤ —á–µ—Ä–µ–∑ CLI/JDBC
* –ú–∞—Å—Å–æ–≤—ã–µ –∑–∞–≥—Ä—É–∑–∫–∏ –∏ –≤—ã–±–æ—Ä–∫–∏ –≤ ETL-–ø—Ä–æ—Ü–µ—Å—Å–∞—Ö

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö

* mTLS –¥–ª—è –∑–∞—â–∏—â—ë–Ω–Ω—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
* Access tokens, scope enforcement
* CLI: redacted logs –∏ input sanitation

## üßæ –°–æ–æ–±—â–µ–Ω–∏—è, –æ—à–∏–±–∫–∏, –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è

* `ERR_ODBC_CONNECT_FAIL`
* `WARN_CLI_SQL_SYNTAX`
* `INFO_JDBC_BATCH_OK`

## üïì –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∏—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

* v1.0 ‚Äî CLI, JDBC –Ω–∞ C++, –±–∞–∑–æ–≤–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ SQL
* v1.1 ‚Äî ODBC —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å, —Ç–∞–±–ª–∏—Ü—ã —Ç–∏–ø–æ–≤ –∏ NULL-–º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö
* v1.2 ‚Äî CLI JSON output, –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π SQL-—Ç—Ä–∞—Å—Å–∏—Ä–æ–≤—â–∏–∫

## üìà UML-–¥–∏–∞–≥—Ä–∞–º–º–∞

```plantuml
@startuml
package "Client Interfaces" {
  class CLI {
    +execute()
    +connect()
  }
  class JDBC {
    +prepare()
    +executeQuery()
  }
  class ODBC {
    +connect()
    +execute()
  }
  CLI --> SQLExecutor
  JDBC --> NetLayer
  ODBC --> NetLayer
}
@enduml
```
