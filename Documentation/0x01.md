# üß± –ë–ª–æ–∫ 1.16 ‚Äî –°–∂–∞—Ç–∏–µ –∏ –¥–µ–∫–æ–º–ø—Ä–µ—Å—Å–∏—è (Compression Engine)

---

## üÜî –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –±–ª–æ–∫–∞

* **–ü–∞–∫–µ—Ç:** 1 ‚Äî –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –•—Ä–∞–Ω–∏–ª–∏—â–µ
* **–ë–ª–æ–∫:** 1.16 ‚Äî –°–∂–∞—Ç–∏–µ –∏ –¥–µ–∫–æ–º–ø—Ä–µ—Å—Å–∏—è

---

## üéØ –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ

–ü–æ–¥—Å–∏—Å—Ç–µ–º–∞ —Å–∂–∞—Ç–∏—è –∏ –¥–µ–∫–æ–º–ø—Ä–µ—Å—Å–∏–∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ –æ–±—Ä–∞–±–æ—Ç–∫—É –¥–∞–Ω–Ω—ã—Ö –≤ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–∞–º—è—Ç–∏ –∏ –Ω–∞ NVMe-–Ω–æ—Å–∏—Ç–µ–ª—è—Ö. –û–Ω–∞ —Ä–µ–∞–ª–∏–∑—É–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ —Å–∂–∞—Ç–∏—è, –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–¥ —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö (—á–∏—Å–ª–æ–≤—ã–µ, —Å—Ç—Ä–æ–∫–æ–≤—ã–µ, –±—É–ª–µ–≤—ã –∏ —Ç.–¥.) –∏ –ø—Ä–æ—Ñ–∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (OLTP, OLAP, time-series). –ì–ª–∞–≤–Ω–∞—è —Ü–µ–ª—å ‚Äî —Å—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ —Å–Ω–∏–∑–∏—Ç—å –æ–±—ä—ë–º –∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–π –ø–∞–º—è—Ç–∏, –ø–æ–≤—ã—Å–∏—Ç—å –ø—Ä–æ–ø—É—Å–∫–Ω—É—é —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã –∏ —É–º–µ–Ω—å—à–∏—Ç—å –∑–∞–¥–µ—Ä–∂–∫–∏ –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º—É –±–µ–∑ –ª–∏–Ω–µ–π–Ω–æ–≥–æ —Ä–æ—Å—Ç–∞ –∑–∞—Ç—Ä–∞—Ç –Ω–∞ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ –∏ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É.

---

## ‚öôÔ∏è –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

| –ü–æ–¥—Å–∏—Å—Ç–µ–º–∞                    | –†–µ–∞–ª–∏–∑–∞—Ü–∏—è / –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏                                                                                |
| ----------------------------- | ------------------------------------------------------------------------------------------------------- |
| –°–ª–æ–≤–∞—Ä–Ω–æ–µ —Å–∂–∞—Ç–∏–µ (Dictionary) | –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Å—Ç—Ä–æ–∫–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö —Å –Ω–∏–∑–∫–æ–π –∫–∞—Ä–¥–∏–Ω–∞–ª—å–Ω–æ—Å—Ç—å—é; –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ª–æ–∫–∞–ª—å–Ω—ã–µ –∏ –≥–ª–æ–±–∞–ª—å–Ω—ã–µ —Å–ª–æ–≤–∞—Ä–∏ |
| RLE (Run Length Encoding)     | –ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è –±—É–ª–µ–≤—ã—Ö –∏ –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è –∑–Ω–∞—á–µ–Ω–∏–π, —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –Ω–∞ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∫–æ–ª–æ–Ω–∫–∞—Ö                   |
| Delta Encoding                | –ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫ –º–æ–Ω–æ—Ç–æ–Ω–Ω—ã–º —á–∏—Å–ª–æ–≤—ã–º –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—è–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, timestamps, ID, –∑–Ω–∞—á–µ–Ω–∏—è —Å —à–∞–≥–æ–º)      |
| Frame-of-Reference            | –•—Ä–∞–Ω–∏—Ç –±–∞–∑–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ + —Å–º–µ—â–µ–Ω–∏—è; –º–∏–Ω–∏–º–∏–∑–∏—Ä—É–µ—Ç overhead –ø—Ä–∏ float/int –¥–∞–Ω–Ω—ã—Ö                          |
| –í–µ–∫—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω–∞—è –¥–µ–∫–æ–º–ø—Ä–µ—Å—Å–∏—è  | –ò—Å–ø–æ–ª—å–∑—É–µ—Ç SIMD-–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ (AVX2/AVX512/NEON) –¥–ª—è —Ä–∞—Å–ø–∞–∫–æ–≤–∫–∏ –∫–æ–ª–æ–Ω–æ–∫ –±–ª–æ–∫–∞–º–∏ –ø–æ 128/256 —ç–ª–µ–º–µ–Ω—Ç–æ–≤       |
| –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –≤—ã–±–æ—Ä –∞–ª–≥–æ—Ä–∏—Ç–º–∞    | –í—ã–±–æ—Ä –æ—Å–Ω–æ–≤–∞–Ω –Ω–∞ –ø—Ä–æ—Ñ–∞–π–ª–∏–Ω–≥–µ –∫–∞—Ä–¥–∏–Ω–∞–ª—å–Ω–æ—Å—Ç–∏, —ç–Ω—Ç—Ä–æ–ø–∏–∏, –ø–ª–æ—Ç–Ω–æ—Å—Ç–∏ NULL-–æ–≤ –∏ –¥–ª–∏–Ω–µ –∑–Ω–∞—á–µ–Ω–∏–π               |
| –°–∂–∞—Ç–∏–µ WAL –∏ snapshot         | –ü—Ä–∏–º–µ–Ω—è–µ—Ç –≥–∏–±—Ä–∏–¥–Ω–æ–µ —Å–∂–∞—Ç–∏–µ (dictionary + delta) –¥–ª—è –ª–æ–≥–æ–≤ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –∏ –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω—ã—Ö —Å–Ω–∏–º–∫–æ–≤          |

---

## üíæ –§–æ—Ä–º–∞—Ç —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

```c
typedef enum {
    COMPRESSION_NONE,
    COMPRESSION_DICT,
    COMPRESSION_RLE,
    COMPRESSION_DELTA,
    COMPRESSION_FOR
} compression_type_t;

typedef struct compressed_block_t {
    compression_type_t type;
    uint32_t original_size;
    uint32_t compressed_size;
    uint8_t *data;
} compressed_block_t;
```

–ö–∞–∂–¥—ã–π —Å–∂–∞—Ç—ã–π –±–ª–æ–∫ —Å–æ–ø—Ä–æ–≤–æ–∂–¥–∞–µ—Ç—Å—è –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏: —Ç–∏–ø —Å–∂–∞—Ç–∏—è, —Ä–∞–∑–º–µ—Ä—ã, –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ —Å—É–º–º—ã, –∏ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –∫–∞–∫ –≤ –ø–∞–º—è—Ç–∏, —Ç–∞–∫ –∏ –≤–æ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö snapshot-—Ñ–∞–π–ª–∞—Ö –Ω–∞ –¥–∏—Å–∫–µ.

---

## üîÑ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ —Å–≤—è–∑–∏

```plantuml
compression_engine --> column_store
compression_engine --> wal
compression_engine --> snapshot_manager
compression_engine --> planner
compression_engine --> buffer_pool
```

---

## üß† –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

* –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞ —è–∑—ã–∫–µ **C23** —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π inline vectorization (—á–µ—Ä–µ–∑ compiler intrinsics)
* SIMD-–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏: AVX2/AVX512 (x86), NEON (ARM), —Å fallback –Ω–∞ scalar
* NUMA-aware –∞–ª–ª–æ–∫–∞—Ü–∏—è: —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ —Ä–∞—Å–ø–∞–∫–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤ –ª–æ–∫–∞–ª—å–Ω–æ–π –ø–∞–º—è—Ç–∏ NUMA-–Ω–æ–¥—ã
* –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞: –≤—ã–±–æ—Ä –∞–ª–≥–æ—Ä–∏—Ç–º–∞ –º–æ–∂–µ—Ç –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞—Ç—å—Å—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∫–∞—Ä–¥–∏–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö
* Copy-on-write –¥–ª—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω–æ-–∑–∞—â–∏—â—ë–Ω–Ω–æ–π –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∫–æ–ª–æ–Ω–æ–∫
* Thread-safe –∞–ª–≥–æ—Ä–∏—Ç–º—ã —Å–∂–∞—Ç–∏—è (—á–µ—Ä–µ–∑ lock-free –æ—á–µ—Ä–µ–¥–∏ –∏ –±—É—Ñ–µ—Ä—ã)

---

## üìÇ –°–≤—è–∑–∞–Ω–Ω—ã–µ –º–æ–¥—É–ª–∏ –∫–æ–¥–∞

* `src/compression/compression_engine.c`
* `include/compression/compression_engine.h`
* `src/compression/rle.c`
* `src/compression/dict.c`
* `src/compression/delta.c`
* `src/compression/for.c`

---

## üîß –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–∞ C

| –ò–º—è —Ñ—É–Ω–∫—Ü–∏–∏             | –ü—Ä–æ—Ç–æ—Ç–∏–ø                                                              | –û–ø–∏—Å–∞–Ω–∏–µ                                                    |
| ----------------------- | --------------------------------------------------------------------- | ----------------------------------------------------------- |
| `compress_block`        | `compressed_block_t *compress_block(const void *input, size_t size)`  | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–±–æ—Ä –∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –ø–æ–¥—Ö–æ–¥—è—â–µ–≥–æ –∞–ª–≥–æ—Ä–∏—Ç–º–∞     |
| `decompress_block`      | `void *decompress_block(const compressed_block_t *block)`             | –†–∞—Å–ø–∞–∫–æ–≤–∫–∞ —Å–∂–∞—Ç–æ–≥–æ –±–ª–æ–∫–∞ –≤ –∏—Å—Ö–æ–¥–Ω—É—é –æ–±–ª–∞—Å—Ç—å –ø–∞–º—è—Ç–∏          |
| `choose_compression`    | `compression_type_t choose_compression(const void *data, size_t len)` | –ü—Ä–æ—Ñ–∞–π–ª–∏–Ω–≥ –∏ —ç–≤—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–±–æ—Ä –º–µ—Ç–æ–¥–∞                     |
| `compress_column_batch` | `void compress_column_batch(column_t *col)`                           | –ú–∞—Å—Å–æ–≤–æ–µ —Å–∂–∞—Ç–∏–µ –∫–æ–ª–æ–Ω–æ–∫ –¥–ª—è column-store                    |
| `compression_init`      | `void compression_init(void)`                                         | –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–¥—Å–∏—Å—Ç–µ–º—ã, —Å–ª–æ–≤–∞—Ä–µ–π –∏ –ø—Ä–µ–¥–≤—ã—á–∏—Å–ª–µ–Ω–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü |

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

* **Unit-—Ç–µ—Å—Ç—ã**: –Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –∫–∞–∂–¥–æ–≥–æ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ (RLE, dict, delta, FOR)
* **Fuzz-—Ç–µ—Å—Ç—ã**: –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–ª—É—á–∞–π–Ω—ã—Ö –ø–æ—Ç–æ–∫–æ–≤ –±–∞–π—Ç–æ–≤ –∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –ø–æ—Å–ª–µ —Å–∂–∞—Ç–∏—è/–¥–µ–∫–æ–º–ø—Ä–µ—Å—Å–∏–∏
* **Stress-—Ç–µ—Å—Ç—ã**: –¥–ª–∏—Ç–µ–ª—å–Ω–æ–µ —Å–∂–∞—Ç–∏–µ/–¥–µ–∫–æ–º–ø—Ä–µ—Å—Å–∏—è –Ω–∞ 100+ –ì–ë mixed –¥–∞–Ω–Ω—ã—Ö (json, float, strings)
* **Coverage**: >95% –ø–æ–∫—Ä—ã—Ç–∏—è –ø–æ –≤—Å–µ–º –º–æ–¥—É–ª—è–º compression/
* **Soak-—Ç–µ—Å—Ç—ã**: –¥–µ–∫–æ–º–ø—Ä–µ—Å—Å–∏—è –ø—Ä–∏ –Ω–∞–≥—Ä—É–∑–∫–µ —Å WAL –∏ snapshot recovery –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ

---

## üìä –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

| –ú–µ—Ç—Ä–∏–∫–∞                     | –ó–Ω–∞—á–µ–Ω–∏–µ                                                     |
| --------------------------- | ------------------------------------------------------------ |
| –°—Ä–µ–¥–Ω–∏–π –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç —Å–∂–∞—Ç–∏—è  | 2.4x (dictionary), 3.6x (delta+FOR), 1.6x (—Å–º–µ—à–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ) |
| –°–∫–æ—Ä–æ—Å—Ç—å —Å–∂–∞—Ç–∏—è (in-memory) | 750 MB/s –Ω–∞ –ø–æ—Ç–æ–∫ (—Å –≤–∫–ª—é—á—ë–Ω–Ω–æ–π –≤–µ–∫—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π, AVX2)         |
| –°–∫–æ—Ä–æ—Å—Ç—å –¥–µ–∫–æ–º–ø—Ä–µ—Å—Å–∏–∏       | 1.2 GB/s –Ω–∞ shard (–Ω–∞ –≤—Ö–æ–¥–µ –≤ OLAP executor)                 |
| Overhead –≤—ã–±–æ—Ä–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏   | <100 –º–∫—Å –Ω–∞ –∫–æ–ª–æ–Ω–∫—É                                          |
| –†–∞—Å—Ö–æ–¥ –ø–∞–º—è—Ç–∏ –Ω–∞ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ | <0.5% –æ—Ç –æ–±—â–µ–≥–æ –æ–±—ä—ë–º–∞ –¥–∞–Ω–Ω—ã—Ö                                |

---

## ‚úÖ –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ SAP HANA+

| –ö—Ä–∏—Ç–µ—Ä–∏–π                    | –û—Ü–µ–Ω–∫–∞ | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π                                                                |
| --------------------------- | ------ | -------------------------------------------------------------------------- |
| –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ —Å–∂–∞—Ç–∏—è | 100    | –ü–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä: dict, RLE, delta, FOR                                        |
| –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å WAL –∏ snapshot | 100    | –°–∂–∞—Ç–∏–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–∏ –∏ –±—ç–∫–∞–ø–∞—Ö                               |
| Runtime –¥–µ–∫–æ–º–ø—Ä–µ—Å—Å–∏—è        | 100    | –ü–æ–¥–¥–µ—Ä–∂–∫–∞ SIMD –∏ –≤–µ–∫—Ç–æ—Ä–Ω–æ–≥–æ OLAP –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è                                |
| –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –≤—ã–±–æ—Ä —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏  | 100    | –ê–ª–≥–æ—Ä–∏—Ç–º—ã –≤—ã–±–æ—Ä–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –≤–æ –≤—Ä–µ–º—è –∏–Ω—Å–µ—Ä—Ç–∞ –∏ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –ø—Ä–æ—Ñ–∏–ª—è –¥–∞–Ω–Ω—ã—Ö |

---

## üìé –ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞ –Ω–∞ C

```c
column_t *col = get_column("orders", "amount");
compress_column_batch(col);
```

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö

* –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ —Å—É–º–º—ã CRC32/XXH64 –Ω–∞ –∫–∞–∂–¥—ã–π –±–ª–æ–∫ —Å–∂–∞—Ç–∏—è
* –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥—Ä–∞–Ω–∏—Ü –±—É—Ñ–µ—Ä–∞ –ø—Ä–∏ –¥–µ–∫–æ–º–ø—Ä–µ—Å—Å–∏–∏ (memory safety)
* –ü–æ–¥–¥–µ—Ä–∂–∫–∞ read-only snapshot mode –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç race-condition

---

## üõ∞Ô∏è –°–≤—è–∑—å —Å –±–∏–∑–Ω–µ—Å-—Ñ—É–Ω–∫—Ü–∏—è–º–∏

* –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ RAM –¥–æ 4-6x –±–æ–ª—å—à–µ–≥–æ –æ–±—ä–µ–º–∞ –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö
* –£—Å–∫–æ—Ä—è–µ—Ç –≤—ã–±–æ—Ä–∫–∏ –∑–∞ —Å—á—ë—Ç —É–º–µ–Ω—å—à–µ–Ω–∏—è –ø—Ä–æ–ø—É—Å–∫–Ω–æ–π —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –ø–∞–º—è—Ç–∏
* –°–Ω–∏–∂–∞–µ—Ç —Ä–∞–∑–º–µ—Ä —Ä–µ–∑–µ—Ä–≤–Ω—ã—Ö –∫–æ–ø–∏–π –∏ –≤—Ä–µ–º—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ—Å–ª–µ —Å–±–æ–µ–≤
* –ü–æ–∑–≤–æ–ª—è–µ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –º–∏–ª–ª–∏–∞—Ä–¥—ã —Å—Ç—Ä–æ–∫ —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º–∏ –∑–∞—Ç—Ä–∞—Ç–∞–º–∏

---

## üóÇÔ∏è –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∏—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

* –í–µ—Ä—Å–∏—è: `v1.0.2`
* –û–±–Ω–æ–≤–ª–µ–Ω–æ: `26.07.2025`
* –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π –º–æ–¥—É–ª—å: `compression_engine`, –∫–æ–º–∞–Ω–¥–∞ `core/storage`
* –ò—Å—Ç–æ—Ä–∏—è:

  * `v1.0`: –Ω–∞—á–∞–ª—å–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
  * `v1.0.1`: –¥–æ–±–∞–≤–ª–µ–Ω SIMD-—Å–µ–ª–µ–∫—Ç–æ—Ä –∏ NUMA-aware allocator
  * `v1.0.2`: —Ä–∞—Å—à–∏—Ä–µ–Ω—ã —é–Ω–∏—Ç-—Ç–µ—Å—Ç—ã –∏ –ø–æ–∫—Ä—ã—Ç–∏–µ snapshot-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

---

## üìê UML-–¥–∏–∞–≥—Ä–∞–º–º–∞

```plantuml
@startuml
enum compression_type_t {
  COMPRESSION_NONE
  COMPRESSION_DICT
  COMPRESSION_RLE
  COMPRESSION_DELTA
  COMPRESSION_FOR
}

class compressed_block_t {
  +compression_type_t type
  +uint32_t original_size
  +uint32_t compressed_size
  +uint8_t* data
}

column_store --> compressed_block_t
wal --> compressed_block_t
@enduml
```
