@startuml
package "0. Инициализация и системный старт" {
  [0.1 Точка входа: main()]
  [0.2 Загрузка конфигурации]
  [0.3 Обработка аргументов]
  [0.4 Системные сигналы]
  [0.5 Инициализация подсистем]
  [0.6 Загрузка схем]
  [0.7 Логирование]
  [0.8 Фоновые потоки]
  [0.9 Режим работы]
  [0.10 Профилирование]
  [0.11 Планировщик задач]
  [0.12 Расширения и плагины]
  [0.13 Отладочный режим]
  [0.14 Контроль процессов]
  [0.15 Завершение работы]
  [0.16 Контроль версий]
  [0.17 Обработка исключений]
  [0.18 Блокировка повторного запуска]
  [0.19 Начальное состояние]
}

' --- Связи ---
[0.1 Точка входа: main()] --> [0.2 Загрузка конфигурации]
[0.1 Точка входа: main()] --> [0.5 Инициализация подсистем]
[0.1 Точка входа: main()] --> [0.7 Логирование]
[0.1 Точка входа: main()] --> [0.8 Фоновые потоки]
[0.1 Точка входа: main()] --> [0.9 Режим работы]
[0.1 Точка входа: main()] --> [0.11 Планировщик задач]
[0.1 Точка входа: main()] --> [0.14 Контроль процессов]
[0.2 Загрузка конфигурации] --> [0.5 Инициализация подсистем]
[0.2 Загрузка конфигурации] --> [0.7 Логирование]
[0.2 Загрузка конфигурации] --> [0.9 Режим работы]
[0.5 Инициализация подсистем] --> [0.6 Загрузка схем]
[0.5 Инициализация подсистем] --> [0.10 Профилирование]
[0.5 Инициализация подсистем] --> [0.11 Планировщик задач]
[0.9 Режим работы] --> [0.11 Планировщик задач]
[0.9 Режим работы] --> [0.14 Контроль процессов]
[0.11 Планировщик задач] --> [0.8 Фоновые потоки]
[0.13 Отладочный режим] --> [0.2 Загрузка конфигурации]
[0.13 Отладочный режим] --> [0.5 Инициализация подсистем]
[0.17 Обработка исключений] --> [0.15 Завершение работы]
[0.18 Блокировка повторного запуска] --> [0.1 Точка входа: main()]

package "1. Архитектура и хранилище" {
  [1.1 Row-store]
  [1.2 Column-store]
  [1.3 JSON-store]
  [1.4 Абстракция таблиц]
  [1.5 Форматы строк и колонок]
  [1.6 NUMA-aware аллокатор]
  [1.7 Prefetch & Alignment]
  [1.8 Индекс B+]
  [1.9 Индекс Hash]
  [1.10 Индекс Bitmap]
  [1.11 Индекс Inverted]
  [1.12 Адаптивная индексация]
  [1.13 Сжатие: Dictionary]
  [1.14 Сжатие: RLE]
  [1.15 Сжатие: Delta]
  [1.16 Сжатие: FoR]
  [1.17 Векторная декомпрессия]
  [1.18 Apache Arrow / PAX]
  [1.19 Горячие/Холодные данные]
  [1.20 TTL / Auto-tiering]
  [1.21 Tiered Storage (SSD)]
  [1.22 Page Cache (LRU/ARC)]
  [1.23 Dirty tracking]
  [1.24 Snapshot Manager]
  [1.25 System Versioned / AS OF]
  [1.26 Multi-tenant лимиты]
  [1.27 Шардирование]
  [1.28 Авто-ребалансировка]
  [1.29 Партиции]
  [1.30 Таблицы > 1 ТБ]
}

' -- Структурные связи --
[1.4 Абстракция таблиц] --> [1.1 Row-store]
[1.4 Абстракция таблиц] --> [1.2 Column-store]
[1.4 Абстракция таблиц] --> [1.3 JSON-store]
[1.5 Форматы строк и колонок] --> [1.2 Column-store]
[1.5 Форматы строк и колонок] --> [1.13 Сжатие: Dictionary]
[1.5 Форматы строк и колонок] --> [1.18 Apache Arrow / PAX]
[1.8 Индекс B+] --> [1.1 Row-store]
[1.9 Индекс Hash] --> [1.1 Row-store]
[1.10 Индекс Bitmap] --> [1.2 Column-store]
[1.11 Индекс Inverted] --> [1.2 Column-store]
[1.12 Адаптивная индексация] --> [1.8 Индекс B+]
[1.13 Сжатие: Dictionary] --> [1.2 Column-store]
[1.14 Сжатие: RLE] --> [1.2 Column-store]
[1.15 Сжатие: Delta] --> [1.2 Column-store]
[1.16 Сжатие: FoR] --> [1.2 Column-store]
[1.17 Векторная декомпрессия] --> [1.16 Сжатие: FoR]
[1.24 Snapshot Manager] --> [1.21 Tiered Storage (SSD)]
[1.24 Snapshot Manager] --> [1.22 Page Cache (LRU/ARC)]
[1.19 Горячие/Холодные данные] --> [1.20 TTL / Auto-tiering]
[1.20 TTL / Auto-tiering] --> [1.21 Tiered Storage (SSD)]
[1.26 Multi-tenant лимиты] --> [1.4 Абстракция таблиц]
[1.25 System Versioned / AS OF] --> [1.4 Абстракция таблиц]
[1.27 Шардирование] --> [1.4 Абстракция таблиц]
[1.28 Авто-ребалансировка] --> [1.27 Шардирование]
[1.29 Партиции] --> [1.27 Шардирование]
[1.30 Таблицы > 1 ТБ] --> [1.4 Абстракция таблиц]

package "2. Транзакционность и надёжность" {
  [2.1 MVCC: цепочки версий]
  [2.2 Snapshot Isolation]
  [2.3 Уровни изоляции]
  [2.4 TID и управление версиями]
  [2.5 Менеджер транзакций]
  [2.6 Планировщик транзакций]
  [2.7 WAL]
  [2.8 WAL writers]
  [2.9 WAL compaction]
  [2.10 WAL CRC]
  [2.11 Snapshot Manager]
  [2.12 Recovery Snapshot]
  [2.13 Copy-on-Write Snapshots]
  [2.14 Сериализуемость]
  [2.15 Read-only транзакции]
  [2.16 Undo Buffer]
  [2.17 Garbage Collection]
  [2.18 Трекер зависимостей]
  [2.19 Active-Passive репликация]
  [2.20 Active-Active репликация]
  [2.21 Recovery после сбоя]
  [2.22 Raft Consensus]
  [2.23 Paxos Consensus]
  [2.24 Watchdog / Failover]
  [2.25 Журнал событий кластера]
}

' Внутренние связи
[2.5 Менеджер транзакций] --> [2.1 MVCC: цепочки версий]
[2.5 Менеджер транзакций] --> [2.2 Snapshot Isolation]
[2.5 Менеджер транзакций] --> [2.3 Уровни изоляции]
[2.5 Менеджер транзакций] --> [2.6 Планировщик транзакций]
[2.5 Менеджер транзакций] --> [2.7 WAL]
[2.5 Менеджер транзакций] --> [2.11 Snapshot Manager]
[2.5 Менеджер транзакций] --> [2.14 Сериализуемость]
[2.1 MVCC: цепочки версий] --> [2.4 TID и управление версиями]
[2.1 MVCC: цепочки версий] --> [2.16 Undo Buffer]
[2.1 MVCC: цепочки версий] --> [2.17 Garbage Collection]
[2.7 WAL] --> [2.8 WAL writers]
[2.7 WAL] --> [2.9 WAL compaction]
[2.7 WAL] --> [2.10 WAL CRC]
[2.11 Snapshot Manager] --> [2.12 Recovery Snapshot]
[2.11 Snapshot Manager] --> [2.13 Copy-on-Write Snapshots]
[2.17 Garbage Collection] --> [2.1 MVCC: цепочки версий]
[2.17 Garbage Collection] --> [2.16 Undo Buffer]
[2.19 Active-Passive репликация] --> [2.7 WAL]
[2.19 Active-Passive репликация] --> [2.11 Snapshot Manager]
[2.20 Active-Active репликация] --> [2.7 WAL]
[2.20 Active-Active репликация] --> [2.11 Snapshot Manager]
[2.21 Recovery после сбоя] --> [2.7 WAL]
[2.21 Recovery после сбоя] --> [2.11 Snapshot Manager]
[2.22 Raft Consensus] --> [2.19 Active-Passive репликация]
[2.22 Raft Consensus] --> [2.21 Recovery после сбоя]
[2.23 Paxos Consensus] --> [2.20 Active-Active репликация]
[2.23 Paxos Consensus] --> [2.21 Recovery после сбоя]
[2.24 Watchdog / Failover] --> [2.21 Recovery после сбоя]
[2.25 Журнал событий кластера] --> [2.21 Recovery после сбоя]
[2.25 Журнал событий кластера] --> [2.24 Watchdog / Failover]

package "3. SQL Ядро и оптимизация" {
  [3.1 SQL-парсер ANSI SQL:2011+]
  [3.2 SELECT/INSERT/UPDATE/DELETE]
  [3.3 MERGE / UPSERT]
  [3.4 Оконные функции]
  [3.5 CTE (WITH RECURSIVE)]
  [3.6 Подзапросы и LATERAL]
  [3.7 GROUP BY и агрегаты]
  [3.8 Аналитические функции]
  [3.9 JSON-функции в SQL]
  [3.10 MATCH_RECOGNIZE]
  [3.11 Генерация временных рядов]
  [3.12 Стоимостной оптимизатор]
  [3.13 Статистика и NDV]
  [3.14 JOIN reorder]
  [3.15 Projection pruning]
  [3.16 Упрощение выражений]
  [3.17 Адаптивный re-optimizer]
  [3.18 Построение / кэш плана]
  [3.19 Интерпретатор плана]
  [3.20 DSL (PL/SQL)]
  [3.21 UDF / UDAF]
  [3.22 Процедурный язык]
  [3.23 Триггеры и процедуры]
  [3.24 AST-интерпретатор]
  [3.25 Exec hooks]
}

[3.1 SQL-парсер ANSI SQL:2011+] --> [3.2 SELECT/INSERT/UPDATE/DELETE]
[3.1 SQL-парсер ANSI SQL:2011+] --> [3.3 MERGE / UPSERT]
[3.1 SQL-парсер ANSI SQL:2011+] --> [3.4 Оконные функции]
[3.1 SQL-парсер ANSI SQL:2011+] --> [3.5 CTE (WITH RECURSIVE)]
[3.1 SQL-парсер ANSI SQL:2011+] --> [3.6 Подзапросы и LATERAL]
[3.1 SQL-парсер ANSI SQL:2011+] --> [3.9 JSON-функции в SQL]
[3.1 SQL-парсер ANSI SQL:2011+] --> [3.24 AST-интерпретатор]
[3.1 SQL-парсер ANSI SQL:2011+] --> [3.20 DSL (PL/SQL)]
[3.2 SELECT/INSERT/UPDATE/DELETE] --> [3.12 Стоимостной оптимизатор]
[3.2 SELECT/INSERT/UPDATE/DELETE] --> [3.7 GROUP BY и агрегаты]
[3.2 SELECT/INSERT/UPDATE/DELETE] --> [3.8 Аналитические функции]
[3.12 Стоимостной оптимизатор] --> [3.13 Статистика и NDV]
[3.12 Стоимостной оптимизатор] --> [3.14 JOIN reorder]
[3.12 Стоимостной оптимизатор] --> [3.15 Projection pruning]
[3.12 Стоимостной оптимизатор] --> [3.16 Упрощение выражений]
[3.17 Адаптивный re-optimizer] --> [3.12 Стоимостной оптимизатор]
[3.17 Адаптивный re-optimizer] --> [3.18 Построение / кэш плана]
[3.18 Построение / кэш плана] --> [3.19 Интерпретатор плана]
[3.18 Построение / кэш плана] --> [3.24 AST-интерпретатор]
[3.20 DSL (PL/SQL)] --> [3.21 UDF / UDAF]
[3.20 DSL (PL/SQL)] --> [3.22 Процедурный язык]
[3.20 DSL (PL/SQL)] --> [3.23 Триггеры и процедуры]
[3.20 DSL (PL/SQL)] --> [3.25 Exec hooks]

package "4. Интерфейсы и интеграции" {
  [4.1 JDBC]
  [4.2 ODBC]
  [4.3 CLI]
  [4.4 REST API]
  [4.5 gRPC API]
  [4.6 WebSocket API]
  [4.7 GraphQL API]
  [4.8 JSON:API]
  [4.9 CDC Core]
  [4.10 Kafka]
  [4.11 Pulsar]
  [4.12 Debezium]
  [4.13 Redis Streams]
  [4.14 Changefeed API]
  [4.15 CSV загрузка]
  [4.16 JSON загрузка]
  [4.17 Parquet загрузка]
  [4.18 Excel загрузка]
  [4.19 XML загрузка]
  [4.20 S3 загрузка]
  [4.21 Webhooks]
  [4.22 Внешние процедуры]
  [4.23 Async обработчики]
  [4.24 ERP интеграция]
  [4.25 BPMN интеграция]
}

' -- Взаимосвязи API и JSON:API
[4.4 REST API] --> [4.8 JSON:API]
[4.5 gRPC API] --> [4.8 JSON:API]
[4.6 WebSocket API] --> [4.8 JSON:API]
[4.7 GraphQL API] --> [4.8 JSON:API]

' -- Стриминговые интерфейсы
[4.9 CDC Core] --> [4.10 Kafka]
[4.9 CDC Core] --> [4.11 Pulsar]
[4.9 CDC Core] --> [4.12 Debezium]
[4.9 CDC Core] --> [4.13 Redis Streams]
[4.9 CDC Core] --> [4.14 Changefeed API]

' -- Batch загрузка
[4.15 CSV загрузка] --> [4.20 S3 загрузка]
[4.16 JSON загрузка] --> [4.20 S3 загрузка]
[4.17 Parquet загрузка] --> [4.20 S3 загрузка]
[4.18 Excel загрузка] --> [4.20 S3 загрузка]
[4.19 XML загрузка] --> [4.20 S3 загрузка]

' -- Webhooks и события
[4.21 Webhooks] --> [4.4 REST API]
[4.22 Внешние процедуры] --> [4.4 REST API]
[4.23 Async обработчики] --> [4.5 gRPC API]
[4.24 ERP интеграция] --> [4.22 Внешние процедуры]
[4.25 BPMN интеграция] --> [4.22 Внешние процедуры]

package "5. BI, ML и OLAP" {
  [5.1 HTAP-нагрузка]
  [5.2 Материализованные представления]
  [5.3 Кубы и агрегаты]
  [5.4 ROLLUP / CUBE / GROUPING SETS]
  [5.5 Адаптивные агрегаты]
  [5.6 Кэш агрегатов]
  [5.7 Временные окна]
  [5.8 Типы временных рядов]
  [5.9 Gap-filling]
  [5.10 Downsampling]
  [5.11 Retention политики]
  [5.12 Прогнозирование]
  [5.13 Корреляции / Регрессии]
  [5.14 Кластеризация]
  [5.15 RANK / NTILE / DENSE_RANK]
  [5.16 ONNX поддержка]
  [5.17 TensorFlow интеграция]
  [5.18 PyTorch интеграция]
  [5.19 SQL-инференс]
  [5.20 ML Runtime API]
  [5.21 Percentiles / Median]
  [5.22 Классификация / Регрессия]
  [5.23 Доверительные интервалы]
  [5.24 Интерфейс BI-инструментов]
  [5.25 Интеграция Tableau / PowerBI]
}

[5.1 HTAP-нагрузка] --> [5.2 Материализованные представления]
[5.1 HTAP-нагрузка] --> [5.3 Кубы и агрегаты]
[5.1 HTAP-нагрузка] --> [5.4 ROLLUP / CUBE / GROUPING SETS]
[5.1 HTAP-нагрузка] --> [5.5 Адаптивные агрегаты]
[5.1 HTAP-нагрузка] --> [5.6 Кэш агрегатов]
[5.1 HTAP-нагрузка] --> [5.8 Типы временных рядов]
[5.2 Материализованные представления] --> [5.3 Кубы и агрегаты]
[5.2 Материализованные представления] --> [5.6 Кэш агрегатов]
[5.4 ROLLUP / CUBE / GROUPING SETS] --> [5.5 Адаптивные агрегаты]
[5.5 Адаптивные агрегаты] --> [5.6 Кэш агрегатов]
[5.8 Типы временных рядов] --> [5.9 Gap-filling]
[5.8 Типы временных рядов] --> [5.10 Downsampling]
[5.8 Типы временных рядов] --> [5.11 Retention политики]
[5.12 Прогнозирование] --> [5.19 SQL-инференс]
[5.13 Корреляции / Регрессии] --> [5.19 SQL-инференс]
[5.14 Кластеризация] --> [5.19 SQL-инференс]
[5.16 ONNX поддержка] --> [5.19 SQL-инференс]
[5.17 TensorFlow интеграция] --> [5.19 SQL-инференс]
[5.18 PyTorch интеграция] --> [5.19 SQL-инференс]
[5.19 SQL-инференс] --> [5.20 ML Runtime API]
[5.24 Интерфейс BI-инструментов] --> [5.2 Материализованные представления]
[5.24 Интерфейс BI-инструментов] --> [5.3 Кубы и агрегаты]
[5.24 Интерфейс BI-инструментов] --> [5.6 Кэш агрегатов]
[5.25 Интеграция Tableau / PowerBI] --> [5.24 Интерфейс BI-инструментов]

package "6. Безопасность" {
  [6.1 RBAC]
  [6.2 ABAC]
  [6.3 Row-level Security]
  [6.4 Column-level Security]
  [6.5 TLS / mTLS / JWT]
  [6.6 TDE (шифрование)]
  [6.7 Forward Secrecy]
  [6.8 Аутентификация]
  [6.9 ACL (IP/iface)]
  [6.10 Scoped Tokens]
  [6.11 Аудит DDL/DML]
  [6.12 Immutable лог аудита]
  [6.13 Цифровая подпись]
  [6.14 Политики доступа]
  [6.15 Access Policy Engine]
  [6.16 Контроль доступа к UDF]
  [6.17 Песочница UDF]
  [6.18 Защита от SQL-инъекций]
  [6.19 Изоляция сессий]
  [6.20 Авто-завершение сессий]
  [6.21 GDPR/HIPAA compliance]
  [6.22 Ротация ключей и паролей]
  [6.23 Обнаружение аномалий]
  [6.24 LDAP/OAuth2/Kerberos]
  [6.25 Изоляция прав администратора]
}

[6.1 RBAC] --> [6.3 Row-level Security]
[6.1 RBAC] --> [6.4 Column-level Security]
[6.2 ABAC] --> [6.3 Row-level Security]
[6.2 ABAC] --> [6.4 Column-level Security]
[6.1 RBAC] --> [6.14 Политики доступа]
[6.2 ABAC] --> [6.14 Политики доступа]
[6.14 Политики доступа] --> [6.15 Access Policy Engine]
[6.8 Аутентификация] --> [6.1 RBAC]
[6.8 Аутентификация] --> [6.10 Scoped Tokens]
[6.8 Аутентификация] --> [6.24 LDAP/OAuth2/Kerberos]
[6.11 Аудит DDL/DML] --> [6.12 Immutable лог аудита]
[6.11 Аудит DDL/DML] --> [6.13 Цифровая подпись]
[6.23 Обнаружение аномалий] --> [6.11 Аудит DDL/DML]
[6.23 Обнаружение аномалий] --> [6.18 Защита от SQL-инъекций]
[6.16 Контроль доступа к UDF] --> [6.21 GDPR/HIPAA compliance]
[6.17 Песочница UDF] --> [6.21 GDPR/HIPAA compliance]
[6.25 Изоляция прав администратора] --> [6.1 RBAC]
[6.25 Изоляция прав администратора] --> [6.19 Изоляция сессий]
[6.25 Изоляция прав администратора] --> [6.20 Авто-завершение сессий]

package "7. Observability и DevOps" {
  [7.1 Система метрик]
  [7.2 Метрики IOPS/latency]
  [7.3 Логирование stderr/syslog/bin]
  [7.4 Трассировка (OpenTelemetry)]
  [7.5 Query tracing]
  [7.6 Flamegraph / профилировка]
  [7.7 Structured logging]
  [7.8 Интеграция с perf]
  [7.9 Alertmanager]
  [7.10 REST мониторинг API]
  [7.11 Веб-интерфейс мониторинга]
  [7.12 CLI мониторинг]
  [7.13 CI/CD интеграция]
  [7.14 Mutation testing]
  [7.15 Покрытие кода]
  [7.16 Fuzzing: libFuzzer]
  [7.17 Sanitizers]
  [7.18 Fault Injection]
  [7.19 Chaos Testing]
  [7.20 Soak Testing]
  [7.21 Сравнение версий / деградаций]
  [7.22 Сессионное логирование]
  [7.23 Ротация логов]
  [7.24 Воспроизведение логов]
  [7.25 Профилирование узких мест]
}

[7.1 Система метрик] --> [7.2 Метрики IOPS/latency]
[7.1 Система метрик] --> [7.9 Alertmanager]
[7.1 Система метрик] --> [7.10 REST мониторинг API]
[7.1 Система метрик] --> [7.11 Веб-интерфейс мониторинга]
[7.1 Система метрик] --> [7.12 CLI мониторинг]
[7.3 Логирование stderr/syslog/bin] --> [7.7 Structured logging]
[7.3 Логирование stderr/syslog/bin] --> [7.22 Сессионное логирование]
[7.3 Логирование stderr/syslog/bin] --> [7.23 Ротация логов]
[7.3 Логирование stderr/syslog/bin] --> [7.24 Воспроизведение логов]
[7.4 Трассировка (OpenTelemetry)] --> [7.5 Query tracing]
[7.4 Трассировка (OpenTelemetry)] --> [7.6 Flamegraph / профилировка]
[7.4 Трассировка (OpenTelemetry)] --> [7.25 Профилирование узких мест]
[7.6 Flamegraph / профилировка] --> [7.8 Интеграция с perf]
[7.6 Flamegraph / профилировка] --> [7.25 Профилирование узких мест]
[7.13 CI/CD интеграция] --> [7.14 Mutation testing]
[7.13 CI/CD интеграция] --> [7.15 Покрытие кода]
[7.13 CI/CD интеграция] --> [7.16 Fuzzing: libFuzzer]
[7.13 CI/CD интеграция] --> [7.17 Sanitizers]
[7.13 CI/CD интеграция] --> [7.20 Soak Testing]
[7.18 Fault Injection] --> [7.21 Сравнение версий / деградаций]
[7.19 Chaos Testing] --> [7.21 Сравнение версий / деградаций]
[7.20 Soak Testing] --> [7.21 Сравнение версий / деградаций]

package "8. Производительность и исполнение" {
  [8.1 Векторный движок]
  [8.2 Параллельные пайплайны]
  [8.3 Потоковая агрегация]
  [8.4 Адаптивные JOIN]
  [8.5 JOIN runtime стратегия]
  [8.6 Буферизация результатов]
  [8.7 <1 мс latency / <500 нс крит.]
  [8.8 SLA-анализ]
  [8.9 Runtime re-optimization]
  [8.10 Кэш плана / пересборка]
  [8.11 Latency vs throughput]
  [8.12 Format-aware execution]
  [8.13 Cardinality optimization]
  [8.14 Профилировка исполнения]
  [8.15 Устойчивость к пикам]
  [8.16 Короткие транзакции]
  [8.17 NUMA-aware исполнение]
  [8.18 Skew-aware JOIN]
  [8.19 Bloom-фильтры]
  [8.20 Инкрементальное выполнение]
  [8.21 CPU/IO-bound separation]
  [8.22 Приоритеты операторов]
  [8.23 Copy-on-write]
  [8.24 Клонирование таблиц]
  [8.25 Адаптивная выборка]
}

[8.1 Векторный движок] --> [8.2 Параллельные пайплайны]
[8.1 Векторный движок] --> [8.3 Потоковая агрегация]
[8.1 Векторный движок] --> [8.4 Адаптивные JOIN]
[8.1 Векторный движок] --> [8.12 Format-aware execution]
[8.4 Адаптивные JOIN] --> [8.5 JOIN runtime стратегия]
[8.4 Адаптивные JOIN] --> [8.13 Cardinality optimization]
[8.4 Адаптивные JOIN] --> [8.18 Skew-aware JOIN]
[8.4 Адаптивные JOIN] --> [8.19 Bloom-фильтры]
[8.10 Кэш плана / пересборка] --> [8.9 Runtime re-optimization]
[8.10 Кэш плана / пересборка] --> [8.11 Latency vs throughput]
[8.10 Кэш плана / пересборка] --> [8.14 Профилировка исполнения]
[8.7 <1 мс latency / <500 нс крит.] --> [8.8 SLA-анализ]
[8.7 <1 мс latency / <500 нс крит.] --> [8.15 Устойчивость к пикам]
[8.7 <1 мс latency / <500 нс крит.] --> [8.16 Короткие транзакции]
[8.21 CPU/IO-bound separation] --> [8.2 Параллельные пайплайны]
[8.22 Приоритеты операторов] --> [8.4 Адаптивные JOIN]
[8.20 Инкрементальное выполнение] --> [8.6 Буферизация результатов]
[8.20 Инкрементальное выполнение] --> [8.25 Адаптивная выборка]

package "9. Расширяемость и встраиваемость" {
  [9.1 UDF / UDAF]
  [9.2 Языки UDF: Lua, JS, C, WASM]
  [9.3 Песочница UDF]
  [9.4 REST / gRPC / JSON:API]
  [9.5 Расширения dlopen/LoadLibrary]
  [9.6 DSL для транзакций]
  [9.7 Планировщик задач]
  [9.8 Система плагинов]
  [9.9 Расширение SQL-синтаксиса]
  [9.10 ETL-интеграция]
  [9.11 SQL для внешних систем]
  [9.12 Хранимые политики]
  [9.13 Metadata discovery API]
  [9.14 UDF доступ к данным]
  [9.15 Сериализация: JSON/Proto]
  [9.16 Callback API]
  [9.17 Embedded DB режим]
  [9.18 Расширяемые типы]
  [9.19 Расширяемые агрегаты]
  [9.20 Скрипты Lua/JS]
  [9.21 Интеграция с внешними планировщиками]
  [9.22 Runtime reload]
  [9.23 Расширение WAL/snapshot]
  [9.24 Типизация параметров]
  [9.25 Обёртка транзакций вокруг UDF]
}

[9.1 UDF / UDAF] --> [9.2 Языки UDF: Lua, JS, C, WASM]
[9.1 UDF / UDAF] --> [9.3 Песочница UDF]
[9.1 UDF / UDAF] --> [9.14 UDF доступ к данным]
[9.1 UDF / UDAF] --> [9.24 Типизация параметров]
[9.2 Языки UDF: Lua, JS, C, WASM] --> [9.20 Скрипты Lua/JS]
[9.2 Языки UDF: Lua, JS, C, WASM] --> [9.3 Песочница UDF]
[9.5 Расширения dlopen/LoadLibrary] --> [9.1 UDF / UDAF]
[9.5 Расширения dlopen/LoadLibrary] --> [9.22 Runtime reload]
[9.6 DSL для транзакций] --> [9.7 Планировщик задач]
[9.6 DSL для транзакций] --> [9.11 SQL для внешних систем]
[9.6 DSL для транзакций] --> [9.12 Хранимые политики]
[9.8 Система плагинов] --> [9.5 Расширения dlopen/LoadLibrary]
[9.8 Система плагинов] --> [9.9 Расширение SQL-синтаксиса]
[9.8 Система плагинов] --> [9.18 Расширяемые типы]
[9.8 Система плагинов] --> [9.19 Расширяемые агрегаты]
[9.10 ETL-интеграция] --> [9.11 SQL для внешних систем]
[9.10 ETL-интеграция] --> [9.21 Интеграция с внешними планировщиками]
[9.23 Расширение WAL/snapshot] --> [9.5 Расширения dlopen/LoadLibrary]
[9.23 Расширение WAL/snapshot] --> [9.14 UDF доступ к данным]

package "10. Тестируемость и структура проекта" {
  [10.1 Unit-тесты]
  [10.2 Интеграционные тесты]
  [10.3 Fuzz-тестирование]
  [10.4 Stress Testing]
  [10.5 Soak Testing]
  [10.6 Mutation Testing]
  [10.7 Покрытие кода]
  [10.8 Изоляция окружения]
  [10.9 Fault Injection]
  [10.10 Многопоточность]
  [10.11 Генерация SQL-запросов]
  [10.12 Проверка планов]
  [10.13 Метрики стабильности]
  [10.14 Проверка миграций схем]
  [10.15 Имитация сбоев]
  [10.16 Тесты WAL / Snapshot]
  [10.17 CI/CD автопроверки]
  [10.18 Тесты при нехватке ресурсов]
  [10.19 Моки и симуляторы]
  [10.20 Тестовые фикстуры]
  [10.21 Визуализация тестов]
  [10.22 Бенчмарки и сравнение]
  [10.23 Соответствие SAP HANA+]
  [10.24 Тестирование песочниц]
  [10.25 Структура каталогов / модулей]
}

[10.1 Unit-тесты] --> [10.6 Mutation Testing]
[10.1 Unit-тесты] --> [10.7 Покрытие кода]
[10.1 Unit-тесты] --> [10.22 Бенчмарки и сравнение]
[10.2 Интеграционные тесты] --> [10.6 Mutation Testing]
[10.2 Интеграционные тесты] --> [10.22 Бенчмарки и сравнение]
[10.3 Fuzz-тестирование] --> [10.1 Unit-тесты]
[10.3 Fuzz-тестирование] --> [10.24 Тестирование песочниц]
[10.9 Fault Injection] --> [10.4 Stress Testing]
[10.9 Fault Injection] --> [10.5 Soak Testing]
[10.9 Fault Injection] --> [10.15 Имитация сбоев]
[10.14 Проверка миграций схем] --> [10.16 Тесты WAL / Snapshot]
[10.14 Проверка миграций схем] --> [10.23 Соответствие SAP HANA+]
[10.17 CI/CD автопроверки] --> [10.6 Mutation Testing]
[10.17 CI/CD автопроверки] --> [10.7 Покрытие кода]
[10.17 CI/CD автопроверки] --> [10.21 Визуализация тестов]
[10.25 Структура каталогов / модулей] --> [10.1 Unit-тесты]
[10.25 Структура каталогов / модулей] --> [10.2 Интеграционные тесты]

package "11. Типы данных и форматы хранения" {
  [11.1 Базовые типы: int/float/bool/string]
  [11.2 Decimal / Money]
  [11.3 DATE / TIME / TIMESTAMP]
  [11.4 TIMESTAMP (ns)]
  [11.5 INTERVAL]
  [11.6 JSON / вложенные структуры]
  [11.7 Массивы]
  [11.8 ENUM / множества]
  [11.9 Пользовательские типы]
  [11.10 NULL и 3-значная логика]
  [11.11 UUID]
  [11.12 BYTEA / BLOB]
  [11.13 Bitmask / логика]
  [11.14 Композитные типы]
  [11.15 Гео-тип (optional)]
  [11.16 Типы временных рядов]
  [11.17 Сериализация: JSON/XML/Proto]
  [11.18 Преобразование типов]
  [11.19 Типизация SQL / UDF параметров]
  [11.20 MIME формат auto-определение]
  [11.21 UTF-8 строки]
  [11.22 Сжатие строк]
  [11.23 ICU сортировка / локали]
  [11.24 Проверка совместимости типов]
  [11.25 Совместимость PostgreSQL/Oracle]
}

[11.6 JSON / вложенные структуры] --> [11.17 Сериализация: JSON/XML/Proto]
[11.12 BYTEA / BLOB] --> [11.17 Сериализация: JSON/XML/Proto]
[11.21 UTF-8 строки] --> [11.22 Сжатие строк]
[11.21 UTF-8 строки] --> [11.23 ICU сортировка / локали]
[11.1 Базовые типы: int/float/bool/string] --> [11.24 Проверка совместимости типов]
[11.2 Decimal / Money] --> [11.24 Проверка совместимости типов]
[11.3 DATE / TIME / TIMESTAMP] --> [11.24 Проверка совместимости типов]
[11.4 TIMESTAMP (ns)] --> [11.24 Проверка совместимости типов]
[11.5 INTERVAL] --> [11.24 Проверка совместимости типов]
[11.6 JSON / вложенные структуры] --> [11.24 Проверка совместимости типов]
[11.8 ENUM / множества] --> [11.24 Проверка совместимости типов]
[11.9 Пользовательские типы] --> [11.24 Проверка совместимости типов]
[11.10 NULL и 3-значная логика] --> [11.24 Проверка совместимости типов]
[11.11 UUID] --> [11.24 Проверка совместимости типов]
[11.13 Bitmask / логика] --> [11.24 Проверка совместимости типов]
[11.14 Композитные типы] --> [11.24 Проверка совместимости типов]
[11.16 Типы временных рядов] --> [11.24 Проверка совместимости типов]
[11.25 Совместимость PostgreSQL/Oracle] --> [11.2 Decimal / Money]
[11.25 Совместимость PostgreSQL/Oracle] --> [11.3 DATE / TIME / TIMESTAMP]
[11.25 Совместимость PostgreSQL/Oracle] --> [11.8 ENUM / множества]
[11.25 Совместимость PostgreSQL/Oracle] --> [11.14 Композитные типы]

package "12. Эволюция схем и миграции" {
  [12.1 DDL Engine (миграции)]
  [12.2 ONLINE ALTER TABLE]
  [12.3 Rollback миграций]
  [12.4 Без перезапуска]
  [12.5 Сравнение схем]
  [12.6 Совместимость версий]
  [12.7 Журнал изменений схем]
  [12.8 AS OF по схеме]
  [12.9 SYSTEM VERSIONED]
  [12.10 Snapshot версионность]
  [12.11 Индексы без пересоздания]
  [12.12 Add/Drop колонок ONLINE]
  [12.13 Миграции типов]
  [12.14 Миграции партиций]
  [12.15 Переименование объектов]
  [12.16 Внешние ключи]
  [12.17 Ссылочная целостность]
  [12.18 Миграции UDF и процедур]
  [12.19 Миграции в multi-tenant]
  [12.20 Совместимость API/Schema]
  [12.21 Проверка миграций (dry run)]
  [12.22 Визуализация зависимостей]
  [12.23 ONLINE миграции в кластере]
  [12.24 Раскатка в шардированных таблицах]
  [12.25 Откат миграций при сбое]
}

[12.1 DDL Engine (миграции)] --> [12.2 ONLINE ALTER TABLE]
[12.1 DDL Engine (миграции)] --> [12.3 Rollback миграций]
[12.1 DDL Engine (миграции)] --> [12.4 Без перезапуска]
[12.1 DDL Engine (миграции)] --> [12.5 Сравнение схем]
[12.1 DDL Engine (миграции)] --> [12.11 Индексы без пересоздания]
[12.1 DDL Engine (миграции)] --> [12.12 Add/Drop колонок ONLINE]
[12.5 Сравнение схем] --> [12.6 Совместимость версий]
[12.5 Сравнение схем] --> [12.22 Визуализация зависимостей]
[12.9 SYSTEM VERSIONED] --> [12.8 AS OF по схеме]
[12.9 SYSTEM VERSIONED] --> [12.10 Snapshot версионность]
[12.18 Миграции UDF и процедур] --> [12.19 Миграции в multi-tenant]
[12.18 Миграции UDF и процедур] --> [12.20 Совместимость API/Schema]
[12.23 ONLINE миграции в кластере] --> [12.24 Раскатка в шардированных таблицах]
[12.23 ONLINE миграции в кластере] --> [12.25 Откат миграций при сбое]
[12.21 Проверка миграций (dry run)] --> [12.1 DDL Engine (миграции)]
[12.21 Проверка миграций (dry run)] --> [12.5 Сравнение схем]
[12.21 Проверка миграций (dry run)] --> [12.22 Визуализация зависимостей]

package "13. Планировка, очереди и диспетчеризация" {
  [13.1 Планировщик задач]
  [13.2 Очереди фоновых задач]
  [13.3 Приоритетные очереди / SLA]
  [13.4 Распределённый планировщик]
  [13.5 Планирование snapshot/WAL/GC]
  [13.6 IO поток планировщик]
  [13.7 Балансировка фоновых потоков]
  [13.8 Мониторинг очередей]
  [13.9 Очереди для UDF/внешних]
  [13.10 Автомасштабирование]
  [13.11 Resource groups (CPU/Memory)]
  [13.12 Диспетчер транзакций]
  [13.13 Background workers]
  [13.14 Async SQL выполнение]
  [13.15 NUMA-aware планировка]
  [13.16 Очереди flush WAL/snapshot]
  [13.17 Отложенное выполнение / batching]
  [13.18 Очереди блокировок]
  [13.19 Транзакции в партициях]
  [13.20 Cron / interval задания]
  [13.21 QoS для OLTP/OLAP]
  [13.22 Dependency-aware планирование]
  [13.23 Входящие очереди запросов]
  [13.24 Блокирующие задачи: detection]
  [13.25 Внешние планировщики (Airflow)]
}

[13.1 Планировщик задач] --> [13.2 Очереди фоновых задач]
[13.1 Планировщик задач] --> [13.3 Приоритетные очереди / SLA]
[13.1 Планировщик задач] --> [13.5 Планирование snapshot/WAL/GC]
[13.1 Планировщик задач] --> [13.7 Балансировка фоновых потоков]
[13.1 Планировщик задач] --> [13.13 Background workers]
[13.4 Распределённый планировщик] --> [13.1 Планировщик задач]
[13.4 Распределённый планировщик] --> [13.22 Dependency-aware планирование]
[13.2 Очереди фоновых задач] --> [13.6 IO поток планировщик]
[13.2 Очереди фоновых задач] --> [13.8 Мониторинг очередей]
[13.2 Очереди фоновых задач] --> [13.9 Очереди для UDF/внешних]
[13.10 Автомасштабирование] --> [13.2 Очереди фоновых задач]
[13.10 Автомасштабирование] --> [13.11 Resource groups (CPU/Memory)]
[13.12 Диспетчер транзакций] --> [13.18 Очереди блокировок]
[13.12 Диспетчер транзакций] --> [13.19 Транзакции в партициях]
[13.14 Async SQL выполнение] --> [13.17 Отложенное выполнение / batching]
[13.14 Async SQL выполнение] --> [13.20 Cron / interval задания]
[13.14 Async SQL выполнение] --> [13.23 Входящие очереди запросов]
[13.25 Внешние планировщики (Airflow)] --> [13.1 Планировщик задач]
[13.25 Внешние планировщики (Airflow)] --> [13.20 Cron / interval задания]

package "14. Горячие / холодные данные, auto-tiering, TTL" {
  [14.1 Детектор hot/cold]
  [14.2 Политики auto-tiering]
  [14.3 Tiered Storage (DRAM/SSD)]
  [14.4 TTL политики]
  [14.5 Expiration timestamps]
  [14.6 Batch эвакуация]
  [14.7 Eviction: LRU/LFU/ARC]
  [14.8 SQL-интерфейс TTL]
  [14.9 TTL-aware индексы]
  [14.10 TTL-aware MVCC обход]
  [14.11 TTL для snapshot/агрегатов]
  [14.12 TTL в UDF]
  [14.13 Интеграция с vacuum / сжатием]
  [14.14 Временные таблицы]
  [14.15 Hotness score]
  [14.16 Tier-aware аллокатор]
  [14.17 Предзагрузка hot-страниц]
  [14.18 Гибридное DRAM+SSD хранение]
  [14.19 TTL по времени доступа]
  [14.20 TTL в JSON полях]
  [14.21 Асинхронная утилизация]
  [14.22 Archive-партиции]
  [14.23 Метрики TTL]
  [14.24 Планирование TTL-сканирований]
  [14.25 TTL-совместимые snapshot'ы]
}

[14.1 Детектор hot/cold] --> [14.2 Политики auto-tiering]
[14.1 Детектор hot/cold] --> [14.15 Hotness score]
[14.1 Детектор hot/cold] --> [14.17 Предзагрузка hot-страниц]
[14.2 Политики auto-tiering] --> [14.3 Tiered Storage (DRAM/SSD)]
[14.2 Политики auto-tiering] --> [14.16 Tier-aware аллокатор]
[14.2 Политики auto-tiering] --> [14.18 Гибридное DRAM+SSD хранение]
[14.2 Политики auto-tiering] --> [14.21 Асинхронная утилизация]
[14.4 TTL политики] --> [14.5 Expiration timestamps]
[14.4 TTL политики] --> [14.8 SQL-интерфейс TTL]
[14.4 TTL политики] --> [14.9 TTL-aware индексы]
[14.4 TTL политики] --> [14.10 TTL-aware MVCC обход]
[14.4 TTL политики] --> [14.13 Интеграция с vacuum / сжатием]
[14.4 TTL политики] --> [14.24 Планирование TTL-сканирований]
[14.6 Batch эвакуация] --> [14.21 Асинхронная утилизация]
[14.6 Batch эвакуация] --> [14.23 Метрики TTL]
[14.13 Интеграция с vacuum / сжатием] --> [14.11 TTL для snapshot/агрегатов]
[14.13 Интеграция с vacuum / сжатием] --> [14.12 TTL в UDF]
[14.14 Временные таблицы] --> [14.4 TTL политики]
[14.14 Временные таблицы] --> [14.19 TTL по времени доступа]
[14.25 TTL-совместимые snapshot'ы] --> [14.10 TTL-aware MVCC обход]
[14.25 TTL-совместимые snapshot'ы] --> [14.11 TTL для snapshot/агрегатов]

package "15. Репликация, отказоустойчивость и кластер" {
  [15.1 Архитектура кластера]
  [15.2 Репликация: sync/async]
  [15.3 Active-Passive]
  [15.4 Active-Active]
  [15.5 Контроль консистентности]
  [15.6 Quorum и leader election]
  [15.7 Raft консенсус]
  [15.8 Paxos консенсус]
  [15.9 Watchdog отказоустойчивости]
  [15.10 Failover]
  [15.11 Перезапуск и маршрутизация]
  [15.12 Heartbeat / ping check]
  [15.13 Репликация WAL]
  [15.14 Репликация snapshot]
  [15.15 Latency-aware репликация]
  [15.16 Топология и приоритеты]
  [15.17 Балансировка реплик]
  [15.18 Масштабирование кластера]
  [15.19 Горячее добавление / удаление узлов]
  [15.20 Авто-ребалансировка сегментов]
  [15.21 Cluster state manager]
  [15.22 Мониторинг отставания]
  [15.23 Cluster-aware планировщик]
  [15.24 Смешанные типы узлов]
  [15.25 Split-brain recovery]
}

[15.1 Архитектура кластера] --> [15.2 Репликация: sync/async]
[15.1 Архитектура кластера] --> [15.3 Active-Passive]
[15.1 Архитектура кластера] --> [15.4 Active-Active]
[15.1 Архитектура кластера] --> [15.18 Масштабирование кластера]
[15.1 Архитектура кластера] --> [15.23 Cluster-aware планировщик]
[15.1 Архитектура кластера] --> [15.24 Смешанные типы узлов]
[15.2 Репликация: sync/async] --> [15.13 Репликация WAL]
[15.2 Репликация: sync/async] --> [15.14 Репликация snapshot]
[15.2 Репликация: sync/async] --> [15.5 Контроль консистентности]
[15.3 Active-Passive] --> [15.5 Контроль консистентности]
[15.3 Active-Passive] --> [15.7 Raft консенсус]
[15.4 Active-Active] --> [15.5 Контроль консистентности]
[15.4 Active-Active] --> [15.8 Paxos консенсус]
[15.6 Quorum и leader election] --> [15.7 Raft консенсус]
[15.6 Quorum и leader election] --> [15.8 Paxos консенсус]
[15.6 Quorum и leader election] --> [15.10 Failover]
[15.9 Watchdog отказоустойчивости] --> [15.10 Failover]
[15.9 Watchdog отказоустойчивости] --> [15.11 Перезапуск и маршрутизация]
[15.10 Failover] --> [15.11 Перезапуск и маршрутизация]
[15.10 Failover] --> [15.21 Cluster state manager]
[15.10 Failover] --> [15.25 Split-brain recovery]
[15.16 Топология и приоритеты] --> [15.17 Балансировка реплик]
[15.16 Топология и приоритеты] --> [15.23 Cluster-aware планировщик]
[15.18 Масштабирование кластера] --> [15.19 Горячее добавление / удаление узлов]
[15.18 Масштабирование кластера] --> [15.20 Авто-ребалансировка сегментов]
[15.18 Масштабирование кластера] --> [15.24 Смешанные типы узлов]

package "16. Распределённость, шардирование и планирование" {
  [16.1 Горизонтальное шардирование]
  [16.2 Авто/ручное шардирование]
  [16.3 Ключи шардирования / хеши]
  [16.4 Distributed Planner]
  [16.5 Распределённые транзакции]
  [16.6 2PC / OCC коммит]
  [16.7 Partial execution]
  [16.8 Авторазмещение шардов]
  [16.9 Авто-ребалансировка шардов]
  [16.10 Балансировка нагрузки]
  [16.11 Маршрутизация по шардам]
  [16.12 Topology-aware планирование]
  [16.13 Прозрачная маршрутизация SQL]
  [16.14 Согласование схем]
  [16.15 Репликация на уровне шардов]
  [16.16 Миграция шардов]
  [16.17 Администрирование шардов]
  [16.18 Каталог размещения / метаданные]
  [16.19 Распределённая агрегация]
  [16.20 Распределённые JOIN’ы]
  [16.21 Distributed SQL Gateway]
  [16.22 Distributed-aware оптимизатор]
  [16.23 Автомасштабирование шардами]
  [16.24 Устойчивость к сбоям запроса]
  [16.25 Distributed profiling]
}

[16.1 Горизонтальное шардирование] --> [16.2 Авто/ручное шардирование]
[16.1 Горизонтальное шардирование] --> [16.3 Ключи шардирования / хеши]
[16.1 Горизонтальное шардирование] --> [16.8 Авторазмещение шардов]
[16.1 Горизонтальное шардирование] --> [16.15 Репликация на уровне шардов]
[16.1 Горизонтальное шардирование] --> [16.18 Каталог размещения / метаданные]
[16.4 Distributed Planner] --> [16.5 Распределённые транзакции]
[16.4 Distributed Planner] --> [16.7 Partial execution]
[16.4 Distributed Planner] --> [16.12 Topology-aware планирование]
[16.4 Distributed Planner] --> [16.22 Distributed-aware оптимизатор]
[16.5 Распределённые транзакции] --> [16.6 2PC / OCC коммит]
[16.5 Распределённые транзакции] --> [16.20 Распределённые JOIN’ы]
[16.5 Распределённые транзакции] --> [16.24 Устойчивость к сбоям запроса]
[16.6 2PC / OCC коммит] --> [16.14 Согласование схем]
[16.6 2PC / OCC коммит] --> [16.16 Миграция шардов]
[16.10 Балансировка нагрузки] --> [16.9 Авто-ребалансировка шардов]
[16.10 Балансировка нагрузки] --> [16.23 Автомасштабирование шардами]
[16.13 Прозрачная маршрутизация SQL] --> [16.11 Маршрутизация по шардам]
[16.13 Прозрачная маршрутизация SQL] --> [16.21 Distributed SQL Gateway]
[16.22 Distributed-aware оптимизатор] --> [16.19 Распределённая агрегация]
[16.22 Distributed-aware оптимизатор] --> [16.20 Распределённые JOIN’ы]
[16.22 Distributed-aware оптимизатор] --> [16.25 Distributed profiling]

package "17. Ограничения ресурсов, мультиарендность, сессии" {
  [17.1 Ограничения CPU]
  [17.2 Ограничения памяти]
  [17.3 Ограничения IOPS]
  [17.4 Мультиарендность]
  [17.5 Изоляция сессий]
  [17.6 Конфигурации арендатора]
  [17.7 Таймауты активности]
  [17.8 Завершение неактивных]
  [17.9 Лимит сессий]
  [17.10 Приоритеты арендаторов]
  [17.11 Fair Scheduling]
  [17.12 Runtime мониторинг]
  [17.13 SLA-профили]
  [17.14 Персональные метрики]
  [17.15 Изоляция плана / памяти]
  [17.16 Пул сессий]
  [17.17 Контроль расширений]
  [17.18 Арендаторское логирование]
  [17.19 Корректировка лимитов]
  [17.20 Профили ресурсов]
  [17.21 API-токены и лимиты]
  [17.22 Временные арендаторы]
  [17.23 Публичные/приватные арендаторы]
  [17.24 История использования]
  [17.25 Расширенный RBAC/ABAC]
}

[17.4 Мультиарендность] --> [17.5 Изоляция сессий]
[17.4 Мультиарендность] --> [17.6 Конфигурации арендатора]
[17.4 Мультиарендность] --> [17.13 SLA-профили]
[17.4 Мультиарендность] --> [17.25 Расширенный RBAC/ABAC]
[17.1 Ограничения CPU] --> [17.11 Fair Scheduling]
[17.2 Ограничения памяти] --> [17.11 Fair Scheduling]
[17.3 Ограничения IOPS] --> [17.11 Fair Scheduling]
[17.1 Ограничения CPU] --> [17.20 Профили ресурсов]
[17.5 Изоляция сессий] --> [17.7 Таймауты активности]
[17.5 Изоляция сессий] --> [17.8 Завершение неактивных]
[17.5 Изоляция сессий] --> [17.15 Изоляция плана / памяти]
[17.6 Конфигурации арендатора] --> [17.10 Приоритеты арендаторов]
[17.6 Конфигурации арендатора] --> [17.13 SLA-профили]
[17.12 Runtime мониторинг] --> [17.14 Персональные метрики]
[17.12 Runtime мониторинг] --> [17.24 История использования]
[17.13 SLA-профили] --> [17.19 Корректировка лимитов]
[17.13 SLA-профили] --> [17.20 Профили ресурсов]
[17.16 Пул сессий] --> [17.8 Завершение неактивных]
[17.16 Пул сессий] --> [17.15 Изоляция плана / памяти]
[17.21 API-токены и лимиты] --> [17.4 Мультиарендность]
[17.21 API-токены и лимиты] --> [17.18 Арендаторское логирование]
[17.22 Временные арендаторы] --> [17.4 Мультиарендность]
[17.23 Публичные/приватные арендаторы] --> [17.4 Мультиарендность]

package "18. Форматы хранения и layout-aware исполнение" {
  [18.1 Apache Arrow]
  [18.2 PAX Layout]
  [18.3 Layout-aware исполнение]
  [18.4 Автовыбор layout]
  [18.5 Row/Column/Hybrid layout]
  [18.6 Профилировка layout]
  [18.7 Оптимизация размещения]
  [18.8 Внешние форматы (Parquet)]
  [18.9 Layout-конвертеры]
  [18.10 Arrow Flight]
  [18.11 Zero-copy I/O]
  [18.12 Batch execution API]
  [18.13 Layout-aware сжатие]
  [18.14 Prefetch / Strided access]
  [18.15 Анализ шаблонов доступа]
  [18.16 Выравнивание кэш-линий]
  [18.17 Компактация layout]
  [18.18 Layout impact анализ]
  [18.19 Layout для OLTP/OLAP]
  [18.20 Layout в SQL-планах]
  [18.21 Layout-aware агрегаты / JOIN’ы]
  [18.22 Layout-aware WAL / Snapshot]
  [18.23 Mixed encoding layout]
  [18.24 Layout-aware eviction]
  [18.25 Layout API расширяемость]
}

[18.1 Apache Arrow] --> [18.3 Layout-aware исполнение]
[18.1 Apache Arrow] --> [18.4 Автовыбор layout]
[18.1 Apache Arrow] --> [18.9 Layout-конвертеры]
[18.1 Apache Arrow] --> [18.10 Arrow Flight]
[18.1 Apache Arrow] --> [18.13 Layout-aware сжатие]
[18.2 PAX Layout] --> [18.3 Layout-aware исполнение]
[18.2 PAX Layout] --> [18.4 Автовыбор layout]
[18.2 PAX Layout] --> [18.9 Layout-конвертеры]
[18.3 Layout-aware исполнение] --> [18.12 Batch execution API]
[18.3 Layout-aware исполнение] --> [18.21 Layout-aware агрегаты / JOIN’ы]
[18.3 Layout-aware исполнение] --> [18.25 Layout API расширяемость]
[18.4 Автовыбор layout] --> [18.5 Row/Column/Hybrid layout]
[18.4 Автовыбор layout] --> [18.15 Анализ шаблонов доступа]
[18.6 Профилировка layout] --> [18.4 Автовыбор layout]
[18.6 Профилировка layout] --> [18.18 Layout impact анализ]
[18.6 Профилировка layout] --> [18.19 Layout для OLTP/OLAP]
[18.7 Оптимизация размещения] --> [18.3 Layout-aware исполнение]
[18.7 Оптимизация размещения] --> [18.5 Row/Column/Hybrid layout]
[18.7 Оптимизация размещения] --> [18.16 Выравнивание кэш-линий]
[18.8 Внешние форматы (Parquet)] --> [18.1 Apache Arrow]
[18.8 Внешние форматы (Parquet)] --> [18.10 Arrow Flight]
[18.8 Внешние форматы (Parquet)] --> [18.11 Zero-copy I/O]
[18.13 Layout-aware сжатие] --> [18.22 Layout-aware WAL / Snapshot]
[18.13 Layout-aware сжатие] --> [18.23 Mixed encoding layout]
[18.18 Layout impact анализ] --> [18.20 Layout в SQL-планах]
[18.25 Layout API расширяемость] --> [18.9 Layout-конвертеры]
[18.25 Layout API расширяемость] --> [18.22 Layout-aware WAL / Snapshot]

package "19. Ядро, bootstrap и структура проекта" {
  [19.1 main()]
  [19.2 Инициализация подсистем]
  [19.3 Архитектура модулей]
  [19.4 Абстракция движка (db_t)]
  [19.5 Жизненный цикл экземпляра]
  [19.6 Bootstrap движка]
  [19.7 Контекст исполнения запроса]
  [19.8 Стратегия перезапуска]
  [19.9 Автовосстановление]
  [19.10 CLI-оболочка]
  [19.11 Semver и версии]
  [19.12 Live reload конфигурации]
  [19.13 Bootstrap API модулей]
  [19.14 Системные хуки и события]
  [19.15 Загрузчик библиотек]
  [19.16 Предзагрузка системных объектов]
  [19.17 Embedded режим]
  [19.18 Вызовы API]
  [19.19 Документация и справка]
  [19.20 Утилита генерации проекта]
  [19.21 Embedded / Standalone режимы]
  [19.22 Горячая перезагрузка]
  [19.23 Минимальный режим запуска]
  [19.24 Интеграция со сторонними мониторами]
  [19.25 Кастомный запуск]
}

[19.1 main()] --> [19.2 Инициализация подсистем]
[19.1 main()] --> [19.5 Жизненный цикл экземпляра]
[19.1 main()] --> [19.6 Bootstrap движка]
[19.1 main()] --> [19.10 CLI-оболочка]
[19.2 Инициализация подсистем] --> [19.3 Архитектура модулей]
[19.2 Инициализация подсистем] --> [19.4 Абстракция движка (db_t)]
[19.2 Инициализация подсистем] --> [19.6 Bootstrap движка]
[19.5 Жизненный цикл экземпляра] --> [19.7 Контекст исполнения запроса]
[19.5 Жизненный цикл экземпляра] --> [19.8 Стратегия перезапуска]
[19.5 Жизненный цикл экземпляра] --> [19.9 Автовосстановление]
[19.5 Жизненный цикл экземпляра] --> [19.21 Embedded / Standalone режимы]
[19.6 Bootstrap движка] --> [19.13 Bootstrap API модулей]
[19.6 Bootstrap движка] --> [19.15 Загрузчик библиотек]
[19.6 Bootstrap движка] --> [19.16 Предзагрузка системных объектов]
[19.7 Контекст исполнения запроса] --> [19.18 Вызовы API]
[19.8 Стратегия перезапуска] --> [19.9 Автовосстановление]
[19.8 Стратегия перезапуска] --> [19.22 Горячая перезагрузка]
[19.10 CLI-оболочка] --> [19.23 Минимальный режим запуска]
[19.13 Bootstrap API модулей] --> [9.5 Расширения dlopen/LoadLibrary]
[19.13 Bootstrap API модулей] --> [9.8 Система плагинов]
[19.24 Интеграция со сторонними мониторами] --> [7.1 Система метрик]
[19.24 Интеграция со сторонними мониторами] --> [7.10 REST API мониторинга]
@enduml
