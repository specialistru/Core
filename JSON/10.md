–û—Ç–ª–∏—á–Ω–æ. –ù–∏–∂–µ —è —Ä–∞–∑–ª–æ–∂—É –ø–æ—à–∞–≥–æ–≤—É—é –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é, –∫–∞–∫ **—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É –∫–æ–¥–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —É—Ä–æ–≤–Ω—è Enterprise**, –∏—Å–ø–æ–ª—å–∑—É—è:

---

## ‚úÖ –¶–µ–ª—å:

–ü–æ—Å—Ç—Ä–æ–∏—Ç—å **–∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—É—é –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—é –∫–æ–¥–∞**, —É–ø—Ä–∞–≤–ª—è–µ–º—É—é LLM (GPT-4 –∏–ª–∏ –¥—Ä—É–≥–∏–µ), —Å —Ñ–∏–∑–∏—á–µ—Å–∫–∏–º –≤—ã–≤–æ–¥–æ–º –Ω–∞ –¥–∏—Å–∫, BI-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π –∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∫–æ–π —á–µ—Ä–µ–∑ Celery/Cron.

---

## üîß 1. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
hana_codegen_system/
‚îÇ
‚îú‚îÄ‚îÄ llm_engine/              ‚Üê –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å OpenAI / Claude / Mistral
‚îú‚îÄ‚îÄ code_generator/          ‚Üê –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–¥–∞
‚îú‚îÄ‚îÄ validators/              ‚Üê –ú–æ–¥—É–ª–∏ —ç–∫—Å–ø–µ—Ä—Ç–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏
‚îú‚îÄ‚îÄ output_manager/          ‚Üê –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤, ZIP, Git
‚îú‚îÄ‚îÄ scheduler/               ‚Üê Celery / Cron / Dask
‚îú‚îÄ‚îÄ api_server/              ‚Üê REST / WebSocket / GraphQL
‚îú‚îÄ‚îÄ bi_connectors/           ‚Üê Tableau, PowerBI, ODBC/JDBC
‚îú‚îÄ‚îÄ docs_generator/          ‚Üê Markdown/PDF –∞–≤—Ç–æ–¥–æ–∫–∏
‚îî‚îÄ‚îÄ config/                  ‚Üê JSON –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
```

---

## ‚òÅÔ∏è 2. –ò—Å–ø–æ–ª—å–∑—É–π LLM —á–µ—Ä–µ–∑ LangChain / LlamaIndex

### üì¶ –£—Å—Ç–∞–Ω–æ–≤–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

```bash
pip install langchain openai llama-index pydantic requests
```

### üß† –ü—Ä–∏–º–µ—Ä –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è GPT-4 —á–µ—Ä–µ–∑ LangChain:

```python
from langchain.chat_models import ChatOpenAI

llm = ChatOpenAI(
    model="gpt-4",
    temperature=0.2,
    openai_api_key="sk-...",  # –∏–∑ env
)
```

### üîÅ –ü—Ä–∏–º–µ—Ä –≤—ã–∑–æ–≤–∞:

```python
from langchain.prompts import PromptTemplate
from langchain.chains import LLMChain

template = """
–¢—ã ‚Äî —ç–∫—Å–ø–µ—Ä—Ç –ø–æ C-–∫–æ–¥—É —É—Ä–æ–≤–Ω—è —è–¥—Ä–∞. –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é:
–û–ø–∏—Å–∞–Ω–∏–µ –±–ª–æ–∫–∞: {description}
–§–æ—Ä–º–∞—Ç: –ø–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏
"""

prompt = PromptTemplate.from_template(template)

chain = LLMChain(llm=llm, prompt=prompt)
result = chain.run({"description": "—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ MVCC-–≤–∏–¥–∏–º–æ—Å—Ç—å—é –≤ –∫–æ–ª–æ–Ω–Ω–æ—á–Ω–æ–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ"})
```

---

## üß± 3. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –¥—Ä—É–≥–∏—Ö –º–æ–¥–µ–ª–µ–π:

* **Mistral:** –ò—Å–ø–æ–ª—å–∑—É–π —á–µ—Ä–µ–∑ `Ollama`, `LM Studio`, `vLLM`, `local inference`.
* **Claude:** –ü–æ–¥–∫–ª—é—á–∞–π—Å—è —á–µ—Ä–µ–∑ `Anthropic API`.
* **LLaMA 3:** –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `llama.cpp`, `text-generation-webui` –∏–ª–∏ `vLLM`.

–ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `LangChainHub` –∏–ª–∏ –∑–∞–¥–∞—Ç—å –º–æ–¥–µ–ª—å –≤—Ä—É—á–Ω—É—é –∫–∞–∫ `LLM`.

---

## üìÅ 4. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏ –∑–∞–ø–∏—Å—å —Ñ–∞–π–ª–æ–≤

```python
def save_code_to_disk(code: str, file_path: str):
    os.makedirs(os.path.dirname(file_path), exist_ok=True)
    with open(file_path, "w", encoding="utf-8") as f:
        f.write(code)
```

–ü–æ–¥–¥–µ—Ä–∂–∫–∞ ZIP:

```python
import zipfile

def zip_generated_code(source_dir: str, zip_path: str):
    with zipfile.ZipFile(zip_path, 'w') as zipf:
        for foldername, _, filenames in os.walk(source_dir):
            for filename in filenames:
                full_path = os.path.join(foldername, filename)
                arcname = os.path.relpath(full_path, source_dir)
                zipf.write(full_path, arcname)
```

---

## üìä 5. BI-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (PowerBI, Tableau –∏ –¥—Ä.)

### ‚úÖ Tableau:

* –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π –¥–∞–Ω–Ω—ã–µ –≤ `.csv` –∏–ª–∏ `.hyper` —Ñ–æ—Ä–º–∞—Ç
* –ò—Å–ø–æ–ª—å–∑—É–π Tableau SDK: [tableauhyperapi](https://help.tableau.com/current/api/hyper_api/en-us/index.html)

```python
# CSV —ç–∫—Å–ø–æ—Ä—Ç
df.to_csv("output/report.csv", index=False)
```

### ‚úÖ PowerBI:

* –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π `.pbix`, `.json`, –∏–ª–∏ —á–µ—Ä–µ–∑ REST API PowerBI (–¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∑–∞–≥—Ä—É–∑–∫–∏)
* –ò—Å–ø–æ–ª—å–∑—É–π `pandas` –∏–ª–∏ `pyodbc` –¥–ª—è ODBC-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

```python
import pyodbc

conn = pyodbc.connect('DSN=PowerBI_DSN;UID=user;PWD=password')
cursor = conn.cursor()
cursor.execute("INSERT INTO Results ...")
```

---

## üìÖ 6. –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á (Celery / Cron / Dask)

### ‚úÖ Celery:

**–£—Å—Ç–∞–Ω–æ–≤–∏:**

```bash
pip install celery redis
```

**`tasks.py`**

```python
from celery import Celery
from code_generator.core import generate_code_block

app = Celery("tasks", broker="redis://localhost:6379/0")

@app.task
def scheduled_codegen(block_id):
    generate_code_block(block_id)
```

**–ó–∞–ø—É—Å–∫ –≤–æ—Ä–∫–µ—Ä–∞:**

```bash
celery -A tasks worker --loglevel=info
```

### üï∞ Cron (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞):

**crontab -e:**

```
0 * * * * /usr/bin/python3 /path/to/hana_codegen/run_generation.py
```

---

## üîÑ 7. Git –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

```python
import git

def auto_git_commit(path, message="Auto commit"):
    repo = git.Repo(path)
    repo.git.add('--all')
    repo.index.commit(message)
    origin = repo.remote(name='origin')
    origin.push()
```

---

## üìò 8. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

### Markdown –∏ PDF:

```python
from markdown2 import markdown
import pdfkit

def export_docs(md_content: str, out_path: str):
    html = markdown(md_content)
    pdfkit.from_string(html, out_path.replace(".md", ".pdf"))
```

---

## üöÄ 9. –†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ REST API

–ò—Å–ø–æ–ª—å–∑—É–π **FastAPI**:

```bash
pip install fastapi uvicorn
```

**`main.py`:**

```python
from fastapi import FastAPI
from code_generator.core import generate_code_block

app = FastAPI()

@app.get("/generate/{block_id}")
def generate(block_id: str):
    code = generate_code_block(block_id)
    return {"code": code}
```

**–ó–∞–ø—É—Å–∫:**

```bash
uvicorn main:app --reload
```

---

## üîê 10. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π

–ò—Å–ø–æ–ª—å–∑—É–π YAML/JSON –∏ Pydantic:

```python
from pydantic import BaseModel
import json

class Config(BaseModel):
    project_id: str
    mode: str
    ...

with open("config/codegen.json") as f:
    cfg = Config.parse_raw(f.read())
```

---

## üéØ –•–æ—á–µ—à—å –≥–æ—Ç–æ–≤—ã–π —Å—Ç–∞—Ä—Ç–æ–≤—ã–π —à–∞–±–ª–æ–Ω?

–ú–æ–≥—É —Å–æ–±—Ä–∞—Ç—å –±–∞–∑–æ–≤—ã–π **starter-kit** (—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ + LangChain + Celery + FastAPI + –≥–µ–Ω–µ—Ä–∞—Ü–∏—è + Git + Markdown-–¥–æ–∫–∏). –°–∫–∞–∂–∏ ‚Äî –∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä—É—é –∞—Ä—Ö–∏–≤ –∏–ª–∏ –≤—ã–¥–∞–º —á–µ—Ä–µ–∑ GitHub Gist.

---

–ì–æ—Ç–æ–≤ –ø–æ–º–æ—á—å —Ç–µ–±–µ –ø–µ—Ä–µ–π—Ç–∏ –æ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∫ **—Ä–µ–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ Production-grade –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞**.
