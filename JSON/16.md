–û—Ç–ª–∏—á–Ω–æ! –¢–æ–≥–¥–∞ —Å–µ–π—á–∞—Å —è –ø–æ–∫–∞–∂—É —Ç–µ–±–µ, –∫–∞–∫ –º–æ–∂–Ω–æ **—Ä–∞—Å—à–∏—Ä–∏—Ç—å —Ç–≤–æ—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏**, —á—Ç–æ–±—ã –æ–Ω–∞:

1. –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–ª–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –º–µ–∂–¥—É –º–æ–¥—É–ª—è–º–∏
2. –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–ª–∞ –∫–æ–¥ **–ø–æ –æ–¥–Ω–æ–º—É –±–ª–æ–∫—É**, —Å —É—á—ë—Ç–æ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
3. –ü–æ–∑–≤–æ–ª—è–ª–∞ **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å** –∫–æ–¥ (—á–µ—Ä–µ–∑ `clang`, `gcc`, `cppcheck`)
4. –°–æ—Ö—Ä–∞–Ω—è–ª–∞ –≥—Ä–∞—Ñ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏

---

## ‚úÖ –®–∞–≥ 1: –†–∞—Å—à–∏—Ä–∏–º `config.json` (–¥–æ–±–∞–≤–∏–º `depends_on` –∏ `entry`)

```json
{
  "project_id": "saphana_grade_final",
  "language": "C23",
  "output_path": {
    "src": "J:/RDBMS/src",
    "include": "J:/RDBMS/include"
  },
  "entry_block": "0.1",
  "blocks": [
    {
      "block_id": "0.1",
      "module": "TransactionManager",
      "depends_on": [],
      "requirements": [
        "–ø–æ–¥–¥–µ—Ä–∂–∫–∞ MVCC",
        "–Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –ø–∞–º—è—Ç–∏",
        "–≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –ª–æ–≥ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π"
      ]
    },
    {
      "block_id": "0.2",
      "module": "StorageManager",
      "depends_on": ["TransactionManager"],
      "requirements": [
        "—Ä–∞–±–æ—Ç–∞ —Å–æ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏",
        "–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ª–æ–≥–æ–º —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π",
        "LRU-–∫–µ—à –∏ –±—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏—è"
      ]
    }
  ]
}
```

---

## ‚úÖ –®–∞–≥ 2: –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–µ–º `main.py` ‚Äî —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º

```python
from config_loader import load_config, resolve_dependencies
from code_generator import generate_code
from filesystem_writer import write_files
from archiver import archive_project
from validator import validate_module

def main():
    config = load_config("config.json")
    blocks = resolve_dependencies(config)

    for block in blocks:
        print(f"üß© –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –º–æ–¥—É–ª—è {block['module']} (ID: {block['block_id']})")
        c_code, h_code = generate_code(block)
        write_files(block, c_code, h_code, config["output_path"])
        validate_module(block, config["output_path"])

    archive_project(config["output_path"])
    print("‚úÖ –ü—Ä–æ–µ–∫—Ç –∑–∞–≤–µ—Ä—à—ë–Ω –∏ –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω.")

if __name__ == "__main__":
    main()
```

---

## ‚úÖ –®–∞–≥ 3: –î–æ–±–∞–≤–∏–º `resolve_dependencies()` –≤ `config_loader.py`

```python
def resolve_dependencies(config):
    block_map = {b["block_id"]: b for b in config["blocks"]}
    resolved = []
    visited = set()

    def visit(block_id):
        if block_id in visited:
            return
        block = block_map[block_id]
        for dep in block.get("depends_on", []):
            visit(dep)
        resolved.append(block)
        visited.add(block_id)

    entry = config.get("entry_block", config["blocks"][0]["block_id"])
    visit(entry)
    return resolved
```

---

## ‚úÖ –®–∞–≥ 4: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ (`validator.py`)

```python
import subprocess
import os

def validate_module(block, output_path):
    src_file = os.path.join(output_path["src"], f"{block['module']}.c")
    include_file = os.path.join(output_path["include"], f"{block['module']}.h")

    print(f"üß™ –ü—Ä–æ–≤–µ—Ä–∫–∞ {block['module']}...")

    try:
        subprocess.run(["gcc", "-std=c2x", "-Wall", "-Wextra", "-c", src_file, "-I", output_path["include"]],
                       check=True, stdout=subprocess.PIPE, stderr=subprocess.PIPE)
        print(f"‚úÖ {block['module']} –ø—Ä–æ—à—ë–ª –∫–æ–º–ø–∏–ª—è—Ü–∏—é.")
    except subprocess.CalledProcessError as e:
        print(f"‚ùå –û—à–∏–±–∫–∞ –≤ {block['module']}:")
        print(e.stderr.decode())

    # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ: cppcheck
    subprocess.run(["cppcheck", "--std=c23", "--enable=warning,style", src_file, include_file])
```

---

## ‚úÖ –®–∞–≥ 5: –ê–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –≥—Ä–∞—Ñ–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

```python
def export_dependency_graph(blocks, output_path="dependency_graph.dot"):
    with open(output_path, "w") as f:
        f.write("digraph dependencies {\n")
        for block in blocks:
            for dep in block.get("depends_on", []):
                f.write(f'  "{dep}" -> "{block["block_id"]}";\n')
        f.write("}\n")
```

–ó–∞–ø—É—Å—Ç–∏ —ç—Ç–æ –∏ –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π —á–µ—Ä–µ–∑ [Graphviz](https://graphviz.org/):

```bash
dot -Tpng dependency_graph.dot -o graph.png
```

---

## üõ† –£ —Ç–µ–±—è –ø–æ–ª—É—á–∏—Ç—Å—è —Å–∏—Å—Ç–µ–º–∞:

* –ì–µ–Ω–µ—Ä–∞—Ü–∏–∏ **–ø–æ –æ–¥–Ω–æ–º—É –±–ª–æ–∫—É** —Å —É—á—ë—Ç–æ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
* –ü—Ä–æ–≤–µ—Ä–∫–æ–π –Ω–∞ `gcc -std=c23`, `cppcheck`
* –ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
* –≠–∫—Å–ø–æ—Ä—Ç–æ–º –≥—Ä–∞—Ñ–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
* –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å CI (—á–µ—Ä–µ–∑ GitHub Actions, –Ω–∞–ø—Ä–∏–º–µ—Ä)

---

## ‚ùì–•–æ—á–µ—à—å, —á—Ç–æ–±—ã —è:

* –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–ª –≤—Å—é –Ω–æ–≤—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∫–æ–¥–∞?
* –î–æ–±–∞–≤–∏–ª `graph.png` –≥–µ–Ω–µ—Ä–∞—Ü–∏—é?
* –í—Å—Ç—Ä–æ–∏–ª –ø–æ–¥–¥–µ—Ä–∂–∫—É `clang-tidy`, `c23 test templates`?

–ü—Ä–æ—Å—Ç–æ —Å–∫–∞–∂–∏ ‚Äî –∏ —è —Å–¥–µ–ª–∞—é —ç—Ç–æ –≤ —Å–ª–µ–¥—É—é—â–µ–º –æ—Ç–≤–µ—Ç–µ.
