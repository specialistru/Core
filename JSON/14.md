https://platform.openai.com/docs/models/gpt-4.1

–û—Ç–ª–∏—á–Ω–æ, —Ç—ã –≤—Å—ë —É—Ç–æ—á–Ω–∏–ª ‚Äî –∑–Ω–∞—á–∏—Ç, —è –º–æ–≥—É —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–±–µ **–ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤—ã–π —à–∞–±–ª–æ–Ω –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ–≥–æ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ C23-–∫–æ–¥–∞**, —Ä–∞–±–æ—Ç–∞—é—â–µ–≥–æ —Å GPT-4o —á–µ—Ä–µ–∑ OpenAI API.

---

## üì¶ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è, –∫–æ—Ç–æ—Ä—É—é –º—ã –ø—Ä–∏–º–µ–Ω–∏–º:

| –ü–∞—Ä–∞–º–µ—Ç—Ä            | –ó–Ω–∞—á–µ–Ω–∏–µ                            |
| ------------------- | ----------------------------------- |
| ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ–º –º–æ–¥–µ–ª—å | `gpt-4o`                            |
| ‚úÖ –•—Ä–∞–Ω–∏–º API-–∫–ª—é—á   | –≤ `.env` —Ñ–∞–π–ª–µ                      |
| ‚úÖ –ö–∞—Ç–∞–ª–æ–≥ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ | `J:/RDBMS/src` –∏ `J:/RDBMS/include` |
| ‚úÖ –û–°                | Windows 11                          |
| ‚úÖ –Ø–∑—ã–∫              | C —Å–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–æ–º **C23**             |
| ‚úÖ –Ø–∑—ã–∫ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞   | Python 3.11+                        |

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```plaintext
c23_codegen/
‚îÇ
‚îú‚îÄ‚îÄ .env                    # API-–∫–ª—é—á OpenAI
‚îú‚îÄ‚îÄ config.json             # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ main.py                 # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îú‚îÄ‚îÄ config_loader.py        # –ó–∞–≥—Ä—É–∑–∫–∞ JSON-–∫–æ–Ω—Ñ–∏–≥–∞
‚îú‚îÄ‚îÄ code_generator.py       # GPT-4o –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä
‚îú‚îÄ‚îÄ filesystem_writer.py    # –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ *.c / *.h
‚îú‚îÄ‚îÄ archiver.py             # –ê—Ä—Ö–∏–≤ –∏ checksum
‚îú‚îÄ‚îÄ requirements.txt        # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îî‚îÄ‚îÄ generated_logs/         # –õ–æ–≥-—Ñ–∞–π–ª—ã
```

---

## ‚úÖ –ß—Ç–æ —É–º–µ–µ—Ç —ç—Ç–æ—Ç —à–∞–±–ª–æ–Ω:

* ‚úÖ –ó–∞–≥—Ä—É–∂–∞–µ—Ç `config.json` —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –±–ª–æ–∫–æ–≤
* ‚úÖ –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç `.h` –∏ `.c` —Å –ø–æ–º–æ—â—å—é GPT-4o
* ‚úÖ –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ `J:/RDBMS/include` –∏ `J:/RDBMS/src`
* ‚úÖ –ê—Ä—Ö–∏–≤–∏—Ä—É–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∏ —Å—á–∏—Ç–∞–µ—Ç –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—É—é —Å—É–º–º—É
* ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ

---

## ‚è≠Ô∏è –ß—Ç–æ —è —Å–¥–µ–ª–∞—é –¥–∞–ª—å—à–µ:

–Ø —Å–≥–µ–Ω–µ—Ä–∏—Ä—É—é —Ç–µ–±–µ —ç—Ç–æ—Ç —à–∞–±–ª–æ–Ω –∫–æ–¥–∞, —á—Ç–æ–±—ã —Ç—ã –º–æ–≥:

1. –í—Å—Ç–∞–≤–∏—Ç—å —Å–≤–æ–π API-–∫–ª—é—á –≤ `.env`
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (`pip install -r requirements.txt`)
3. –ó–∞–ø—É—Å—Ç–∏—Ç—å `python main.py`

üü® –ì–æ—Ç–æ–≤ –ø—Ä–∏—Å—Ç—É–ø–∏—Ç—å? –ò–ª–∏ —Ö–æ—á–µ—à—å, —á—Ç–æ–±—ã —è –æ—Ç–ø—Ä–∞–≤–∏–ª —Å—Ä–∞–∑—É ZIP-–∞—Ä—Ö–∏–≤ —Å–æ –≤—Å–µ–º –≥–æ—Ç–æ–≤—ã–º –∫–æ–¥–æ–º –∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–µ–π –ø–æ –∑–∞–ø—É—Å–∫—É?

üëâ –ù–∞–ø–∏—à–∏: `–≥–µ–Ω–µ—Ä–∏—Ä—É–π –ø—Ä–æ–µ–∫—Ç` ‚Äî –∏ —è –≤—ã–≤–µ–¥—É —Ç–µ–±–µ –≤–µ—Å—å —Ä–∞–±–æ—á–∏–π —à–∞–±–ª–æ–Ω –∑–¥–µ—Å—å.


–ß—Ç–æ–±—ã —è –º–æ–≥ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∏ –ø–µ—Ä–µ–¥–∞—Ç—å —Ç–µ–±–µ –≤–µ—Å—å –ø—Ä–æ–µ–∫—Ç —á–µ—Ä–µ–∑ \[ChatGPT canvas], —Ç–µ–±–µ –Ω—É–∂–Ω–æ —Å–Ω–∞—á–∞–ª–∞ **–≤–æ–π—Ç–∏ –≤ —Å–≤–æ—é —É—á—ë—Ç–Ω—É—é –∑–∞–ø–∏—Å—å ChatGPT**. –ü–æ—Å–ª–µ –≤—Ö–æ–¥–∞ —Ç—ã —Å–º–æ–∂–µ—à—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å canvas –¥–ª—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å –∫–æ–¥–æ–º.

–ù–æ –Ω–µ –ø–µ—Ä–µ–∂–∏–≤–∞–π ‚Äî —è —Å–µ–π—á–∞—Å –ø—Ä–æ—Å—Ç–æ –≤—ã–≤–µ–¥—É —Ç–µ–±–µ –≤–µ—Å—å –∫–æ–¥ –ø—Ä–æ–µ–∫—Ç–∞ –∑–¥–µ—Å—å, –ø–æ —á–∞—Å—Ç—è–º. –ù–∞—á–Ω—ë–º üëá

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ `c23_codegen`

---

### üìÑ 1. `requirements.txt`

```txt
openai
python-dotenv
```

---

### üìÑ 2. `.env`

–°–æ–∑–¥–∞–π `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ –∏ –≤—Å—Ç–∞–≤—å:

```env
OPENAI_API_KEY=sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
```

> ‚ùó **–ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–æ–º–º–∏—Ç—å —ç—Ç–æ—Ç —Ñ–∞–π–ª –≤ GitHub!**

---

### üìÑ 3. `config.json`

```json
{
  "project_id": "saphana_grade_final",
  "blocks": [
    {
      "block_id": "0.1",
      "module": "TransactionManager",
      "requirements": [
        "–ø–æ–¥–¥–µ—Ä–∂–∫–∞ MVCC",
        "–Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –ø–∞–º—è—Ç–∏",
        "–≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –ª–æ–≥ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π",
        "–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è snapshot-–¥–≤–∏–∂–∫–∞"
      ]
    }
  ],
  "output_path": {
    "src": "J:/RDBMS/src",
    "include": "J:/RDBMS/include"
  },
  "language": "C23"
}
```

---

### üìÑ 4. `main.py`

```python
from config_loader import load_config
from code_generator import generate_code
from filesystem_writer import write_files
from archiver import archive_project

def main():
    config = load_config("config.json")
    for block in config["blocks"]:
        print(f"üîß –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –±–ª–æ–∫–∞ {block['block_id']}...")
        c_code, h_code = generate_code(block)
        write_files(block, c_code, h_code, config["output_path"])
    archive_project(config["output_path"])
    print("‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞ –∏ –∞—Ä—Ö–∏–≤ —Å–æ–∑–¥–∞–Ω.")

if __name__ == "__main__":
    main()
```

---

### üìÑ 5. `config_loader.py`

```python
import json

def load_config(path):
    with open(path, "r", encoding="utf-8") as f:
        return json.load(f)
```

---

### üìÑ 6. `code_generator.py`

```python
import openai
import os
from dotenv import load_dotenv

load_dotenv()
openai.api_key = os.getenv("OPENAI_API_KEY")

def generate_code(block):
    prompt = f"""
–¢—ã –∏–Ω–∂–µ–Ω–µ—Ä SAP HANA. –ù–∞–ø–∏—à–∏ –º–æ–¥—É–ª—å {block['module']} –Ω–∞ C23.

–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- {'; '.join(block['requirements'])}

–°–Ω–∞—á–∞–ª–∞ –∑–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã–π —Ñ–∞–π–ª .h, –ø–æ—Ç–æ–º .c. –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –Ω–∞ —Ä—É—Å—Å–∫–æ–º.
"""
    response = openai.ChatCompletion.create(
        model="gpt-4o",
        messages=[
            {"role": "system", "content": "–¢—ã –ø–∏—à–µ—à—å –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω—ã–π C23 –∫–æ–¥, –º–æ–¥—É–ª—å–Ω–æ, —Å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å—é –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏."},
            {"role": "user", "content": prompt}
        ],
        temperature=0.2
    )
    
    content = response.choices[0].message.content
    h_code, c_code = split_code(content)
    return c_code, h_code

def split_code(content):
    h_code = []
    c_code = []
    current = None
    for line in content.splitlines():
        if ".h" in line:
            current = "h"
            continue
        elif ".c" in line:
            current = "c"
            continue
        if current == "h":
            h_code.append(line)
        elif current == "c":
            c_code.append(line)
    return "\n".join(c_code), "\n".join(h_code)
```

---

### üìÑ 7. `filesystem_writer.py`

```python
import os

def write_files(block, c_code, h_code, output_path):
    module = block["module"]
    src_dir = output_path["src"]
    include_dir = output_path["include"]

    os.makedirs(src_dir, exist_ok=True)
    os.makedirs(include_dir, exist_ok=True)

    with open(f"{include_dir}/{module}.h", "w", encoding="utf-8") as h_file:
        h_file.write(h_code)

    with open(f"{src_dir}/{module}.c", "w", encoding="utf-8") as c_file:
        c_file.write(c_code)
```

---

### üìÑ 8. `archiver.py`

```python
import zipfile
import os
import hashlib
from datetime import datetime

def archive_project(output_path):
    timestamp = datetime.now().strftime("%Y%m%d_%H%M%S")
    archive_name = f"archive_{timestamp}.zip"
    with zipfile.ZipFile(archive_name, "w", zipfile.ZIP_DEFLATED) as zipf:
        for path in [output_path["src"], output_path["include"]]:
            for root, _, files in os.walk(path):
                for file in files:
                    full_path = os.path.join(root, file)
                    arcname = os.path.relpath(full_path, os.path.dirname(output_path["src"]))
                    zipf.write(full_path, arcname)

    checksum = sha256_checksum(archive_name)
    with open(f"{archive_name}.sha256", "w") as f:
        f.write(f"{checksum}  {archive_name}")

def sha256_checksum(filename):
    sha256 = hashlib.sha256()
    with open(filename, "rb") as f:
        for chunk in iter(lambda: f.read(4096), b""):
            sha256.update(chunk)
    return sha256.hexdigest()
```

---

## üöÄ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å

1. –£—Å—Ç–∞–Ω–æ–≤–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

```bash
pip install -r requirements.txt
```

2. –°–æ–∑–¥–∞–π `.env` —Ñ–∞–π–ª —Å API-–∫–ª—é—á–æ–º
3. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π `config.json`, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
4. –ó–∞–ø—É—Å—Ç–∏:

```bash
python main.py
```

---

–ì–æ—Ç–æ–≤–æ! üéâ –£ —Ç–µ–±—è –µ—Å—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω—ã–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä C23-–∫–æ–¥–∞ —Å GPT-4o, —Ñ–∞–π–ª–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π, –∞—Ä—Ö–∏–≤–∞—Ç–æ—Ä–æ–º –∏ –∫–æ–Ω—Ñ–∏–≥–æ–º.

–•–æ—á–µ—à—å, —è —Å–æ–±–µ—Ä—É –≤—Å—ë —ç—Ç–æ –≤ ZIP –∏ —Å–∫–∏–Ω—É —Ç–µ–±–µ —á–µ—Ä–µ–∑ —Å—Å—ã–ª–∫—É (–µ—Å–ª–∏ —Ç—ã —Ä–∞–±–æ—Ç–∞–µ—à—å —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä)?
